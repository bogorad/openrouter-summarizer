/*! For license information please see pageInteraction.bundle.js.LICENSE.txt */
(()=>{var e={28:e=>{"use strict";e.exports=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/},141:e=>{e.exports=function(e){var t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}},164:(e,t,n)=>{"use strict";e.exports=function(e,t,n,r){var o,i;return"string"==typeof t||t&&"function"==typeof t.exec?i=[[t,n]]:(i=t,r=n),u(e,o=r||{},function e(t){var n=t[0];return function(r,i){var c,s,l,f,p=n[0],d=n[1],h=[],m=0,g=i.children.indexOf(r);for(p.lastIndex=0,s=p.exec(r.value);s&&(c=s.index,!1!==(f=d.apply(null,[].concat(s,{index:s.index,input:s.input})))&&(m!==c&&h.push({type:"text",value:r.value.slice(m,c)}),"string"==typeof f&&f.length>0&&(f={type:"text",value:f}),f&&(h=[].concat(h,f)),m=c+s[0].length),p.global);)s=p.exec(r.value);if(void 0===c?(h=[r],g--):(m<r.value.length&&h.push({type:"text",value:r.value.slice(m)}),h.unshift(g,1),a.apply(i.children,h)),t.length>1)for(l=e(t.slice(1)),c=-1;++c<h.length;)"text"===(r=h[c]).type?l(r,i):u(r,o,l);return g+h.length+1}}(function(e){var t,n,r=[];if("object"!=typeof e)throw new Error("Expected array or object as schema");if("length"in e)for(n=-1;++n<e.length;)r.push([c(e[n][0]),s(e[n][1])]);else for(t in e)r.push([c(t),s(e[t])]);return r}(i))),e};var r=n(6311),o=n(2143),i=n(2834),a=[].splice;function u(e,t,n){var i=o(t.ignore||[]);return r(e,"text",(function(e,t){for(var r,o,a=-1;++a<t.length;){if(r=t[a],i(r,o?o.children.indexOf(r):void 0,o))return;o=r}return n(e,o)})),[]}function c(e){return"string"==typeof e?new RegExp(i(e),"g"):e}function s(e){return"function"==typeof e?e:function(){return e}}},254:(e,t,n)=>{const r=n(7776),o=n(5815),i=n(3805),a=n(7301),{collectDefinitions:u,removeDefinitions:c}=n(3328),s=n(1474);e.exports=(e,t)=>{const n={},l=s(n);return a().use(o,t).use(r).use(u,n).use(c).use(i,l).processSync(e).toString()}},440:(e,t,n)=>{"use strict";var r=n(7325);e.exports=function(e,t){var n=parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"�":r(n)}},544:(e,t,n)=>{e.exports=u,u.peek=function(e,t,n){return o(e,n)?"<":"["};var r=n(141),o=n(5943),i=n(8886),a=n(1463);function u(e,t,n){var u,c,s,l,f=r(n),p='"'===f?"Quote":"Apostrophe";return o(e,n)?(l=n.stack,n.stack=[],u=n.enter("autolink"),s="<"+i(e,n,{before:"<",after:">"})+">",u(),n.stack=l,s):(u=n.enter("link"),c=n.enter("label"),s="["+i(e,n,{before:"[",after:"]"})+"](",c(),!e.url&&e.title||/[ \t\r\n]/.test(e.url)?(c=n.enter("destinationLiteral"),s+="<"+a(n,e.url,{before:"<",after:">"})+">"):(c=n.enter("destinationRaw"),s+=a(n,e.url,{before:"(",after:e.title?" ":")"})),c(),e.title&&(c=n.enter("title"+p),s+=" "+f+a(n,e.title,{before:f,after:f})+f,c()),s+=")",u(),s)}},668:(e,t,n)=>{var r=n(8177),o=n(2778),i=n(1016),a=n(1073),u=n(3061),c=n(4012),s={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(t){return 87===t||t-32==87?(e.consume(t),o):n(t)}function o(t){return 87===t||t-32==87?(e.consume(t),i):n(t)}function i(t){return 46===t?(e.consume(t),u):n(t)}function u(e){return null===e||a(e)?n(e):t(e)}},partial:!0},l={tokenize:function(e,t,n){var r,o;return a;function a(t){return 38===t?e.check(d,l,s)(t):46===t||95===t?e.check(p,l,s)(t):i(t)||c(t)||45!==t&&u(t)?l(t):(e.consume(t),a)}function s(t){return 46===t?(o=r,r=void 0,e.consume(t),a):(95===t&&(r=!0),e.consume(t),a)}function l(e){return o||r?n(e):t(e)}},partial:!0},f={tokenize:function(e,t){var n=0;return r;function r(a){return 38===a?e.check(d,t,o)(a):(40===a&&n++,41===a?e.check(p,i,o)(a):k(a)?t(a):y(a)?e.check(p,t,o)(a):(e.consume(a),r))}function o(t){return e.consume(t),r}function i(e){return--n<0?t(e):o(e)}},partial:!0},p={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(o){return y(o)?(e.consume(o),r):k(o)?t(o):n(o)}},partial:!0},d={tokenize:function(e,t,n){return function(t){return e.consume(t),o};function o(t){return r(t)?(e.consume(t),o):59===t?(e.consume(t),i):n(t)}function i(e){return k(e)?t(e):n(e)}},partial:!0},h={tokenize:function(e,t,n){var r=this;return function(t){return 87!==t&&t-32!=87||!E(r.previous)||L(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(s,e.attempt(l,e.attempt(f,o),n),n)(t))};function o(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:E},m={tokenize:function(e,t,n){var r=this;return function(t){return 72!==t&&t-32!=72||!C(r.previous)||L(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),e.consume(t),o)};function o(t){return 84===t||t-32==84?(e.consume(t),a):n(t)}function a(t){return 84===t||t-32==84?(e.consume(t),s):n(t)}function s(t){return 80===t||t-32==80?(e.consume(t),p):n(t)}function p(t){return 83===t||t-32==83?(e.consume(t),d):d(t)}function d(t){return 58===t?(e.consume(t),h):n(t)}function h(t){return 47===t?(e.consume(t),m):n(t)}function m(t){return 47===t?(e.consume(t),g):n(t)}function g(t){return i(t)||c(t)||u(t)?n(t):e.attempt(l,e.attempt(f,v),n)(t)}function v(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:C},g={tokenize:function(e,t,n){var r,i=this;return function(t){return b(t)&&w(i.previous)&&!L(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(t)):n(t)};function a(t){return b(t)?(e.consume(t),a):64===t?(e.consume(t),u):n(t)}function u(t){return 46===t?e.check(p,f,c)(t):45===t||95===t?e.check(p,n,s)(t):o(t)?(e.consume(t),u):f(t)}function c(t){return e.consume(t),r=!0,u}function s(t){return e.consume(t),l}function l(t){return 46===t?e.check(p,n,c)(t):u(t)}function f(o){return r?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(o)):n(o)}},previous:w},v={};t.text=v;for(var x=48;x<123;)v[x]=g,58==++x?x=65:91===x&&(x=97);function y(e){return 33===e||34===e||39===e||41===e||42===e||44===e||46===e||58===e||59===e||60===e||63===e||95===e||126===e}function k(e){return null===e||e<0||32===e||60===e}function b(e){return 43===e||45===e||46===e||95===e||o(e)}function E(e){return null===e||e<0||32===e||40===e||42===e||95===e||126===e}function C(e){return null===e||!r(e)}function w(e){return 47!==e&&C(e)}function L(e){for(var t=e.length;t--;)if(("labelLink"===e[t][1].type||"labelImage"===e[t][1].type)&&!e[t][1]._balanced)return!0}v[43]=g,v[45]=g,v[46]=g,v[95]=g,v[72]=[g,m],v[104]=[g,m],v[87]=[g,h],v[119]=[g,h]},823:(e,t,n)=>{"use strict";var r=n(1073),o=n(4896),i=n(5524),a={name:"setextUnderline",tokenize:function(e,t,n){for(var o,a,u=this,c=u.events.length;c--;)if("lineEnding"!==u.events[c][1].type&&"linePrefix"!==u.events[c][1].type&&"content"!==u.events[c][1].type){a="paragraph"===u.events[c][1].type;break}return function(t){return u.lazy||!u.interrupt&&!a?n(t):(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),o=t,s(t))};function s(t){return t===o?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),i(e,l,"lineSuffix")(t))}function l(o){return null===o||r(o)?(e.exit("setextHeadingLine"),t(o)):n(o)}},resolveTo:function(e,t){for(var n,r,i,a,u=e.length;u--;)if("enter"===e[u][0]){if("content"===e[u][1].type){n=u;break}"paragraph"===e[u][1].type&&(r=u)}else"content"===e[u][1].type&&e.splice(u,1),i||"definition"!==e[u][1].type||(i=u);return a={type:"setextHeading",start:o(e[r][1].start),end:o(e[e.length-1][1].end)},e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=o(e[i][1].end)):e[n][1]=a,e.push(["exit",a,t]),e}};e.exports=a},972:(e,t,n)=>{"use strict";var r=n(3430),o=n(5885),i=n(7206);e.exports=c;var a={}.hasOwnProperty,u=["history","path","basename","stem","extname","dirname"];function c(e){var t,n;if(e){if("string"==typeof e||i(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof c))return new c(e);for(this.data={},this.messages=[],this.history=[],this.cwd=o.cwd(),n=-1;++n<u.length;)t=u[n],a.call(e,t)&&(this[t]=e[t]);for(t in e)u.indexOf(t)<0&&(this[t]=e[t])}function s(e,t){if(e&&e.indexOf(r.sep)>-1)throw new Error("`"+t+"` cannot be a path: did not expect `"+r.sep+"`")}function l(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function f(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}c.prototype.toString=function(e){return(this.contents||"").toString(e)},Object.defineProperty(c.prototype,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){l(e,"path"),this.path!==e&&this.history.push(e)}}),Object.defineProperty(c.prototype,"dirname",{get:function(){return"string"==typeof this.path?r.dirname(this.path):void 0},set:function(e){f(this.path,"dirname"),this.path=r.join(e||"",this.basename)}}),Object.defineProperty(c.prototype,"basename",{get:function(){return"string"==typeof this.path?r.basename(this.path):void 0},set:function(e){l(e,"basename"),s(e,"basename"),this.path=r.join(this.dirname||"",e)}}),Object.defineProperty(c.prototype,"extname",{get:function(){return"string"==typeof this.path?r.extname(this.path):void 0},set:function(e){if(s(e,"extname"),f(this.path,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=r.join(this.dirname,this.stem+(e||""))}}),Object.defineProperty(c.prototype,"stem",{get:function(){return"string"==typeof this.path?r.basename(this.path,this.extname):void 0},set:function(e){l(e,"stem"),s(e,"stem"),this.path=r.join(this.dirname||"",e+(this.extname||""))}})},986:e=>{e.exports=function(e){var t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}},1016:e=>{"use strict";e.exports=function(e){return e<32||127===e}},1069:(e,t,n)=>{"use strict";var r=n(6731);function o(){}e.exports=a,o.prototype=Error.prototype,a.prototype=new o;var i=a.prototype;function a(e,t,n){var o,i,a;"string"==typeof t&&(n=t,t=null),o=function(e){var t,n=[null,null];return"string"==typeof e&&(-1===(t=e.indexOf(":"))?n[1]=e:(n[0]=e.slice(0,t),n[1]=e.slice(t+1))),n}(n),i=r(t)||"1:1",a={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?(a=t,t=t.start):a.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=i,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=a,this.source=o[0],this.ruleId=o[1]}i.file="",i.name="",i.reason="",i.message="",i.stack="",i.fatal=null,i.column=null,i.line=null},1073:e=>{"use strict";e.exports=function(e){return e<-2}},1114:(e,t,n)=>{e.exports=n(6783)},1129:(e,t,n)=>{"use strict";var r=n(7325);e.exports=function(e){for(var t,n,o,i=-1,a=[];++i<e.length;){if("string"==typeof(t=e[i]))n=t;else if(-5===t)n="\r";else if(-4===t)n="\n";else if(-3===t)n="\r\n";else if(-2===t)n="\t";else if(-1===t){if(o)continue;n=" "}else n=r(t);o=-2===t,a.push(n)}return a.join("")}},1154:e=>{"use strict";e.exports=function(e,t,n){for(var r,o=[],i=-1;++i<e.length;)(r=e[i].resolveAll)&&o.indexOf(r)<0&&(t=r(t,n),o.push(r));return t}},1247:(e,t,n)=>{e.exports=i,i.peek=function(){return"!"};var r=n(9611),o=n(1463);function i(e,t,n){var i,a,u=e.referenceType,c=n.enter("imageReference"),s=n.enter("label"),l=o(n,e.alt,{before:"[",after:"]"}),f="!["+l+"]";return s(),a=n.stack,n.stack=[],s=n.enter("reference"),i=o(n,r(e),{before:"[",after:"]"}),s(),n.stack=a,c(),"full"!==u&&l&&l===i?"shortcut"!==u&&(f+="[]"):f+="["+i+"]",f}},1257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8359),o=n(6815),i=n(5218),a=n(4213),u=n(6744),c=n(9414),s=n(5610),l=n(6582),f=n(8806),p=n(8032),d=n(8836),h=n(8789),m=n(3085),g=n(2678),v=n(6611),x=n(2302),y=n(7983),k=n(9259),b=n(9177),E=n(823),C=n(4104),w={42:b,43:b,45:b,48:b,49:b,50:b,51:b,52:b,53:b,54:b,55:b,56:b,57:b,62:a},L={91:p},S={"-2":l,"-1":l,32:l},A={35:h,42:C,45:[E,C],60:m,61:E,95:C,96:s,126:s},T={38:c,92:u},M={"-5":k,"-4":k,"-3":k,33:x,38:c,42:o,60:[i,g],91:y,92:[d,u],93:v,95:o,96:f},F={null:[o,r.resolver]};t.contentInitial=L,t.disable={null:[]},t.document=w,t.flow=A,t.flowInitial=S,t.insideSpan=F,t.string=T,t.text=M},1296:(e,t,n)=>{"use strict";var r=n(3287),o=n(8317),i=n(5848),a=n(8359),u=n(3576),c=n(8758),s=n(6310),l=n(1257);e.exports=function(e){var t={defined:[],constructs:u([l].concat(s((e||{}).extensions))),content:n(r),document:n(o),flow:n(i),string:n(a.string),text:n(a.text)};return t;function n(e){return function(n){return c(t,e,n)}}}},1303:e=>{"use strict";e.exports=function(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}},1408:(e,t,n)=>{e.exports=function(e,t,n){var a=n.enter("blockquote"),u=o(r(e,n),i);return a(),u};var r=n(9952),o=n(4378);function i(e,t,n){return">"+(n?"":" ")+e}},1459:(e,t,n)=>{"use strict";e.exports=n(7331)},1463:(e,t,n)=>{e.exports=function(e,t,n){for(var u,c,s,l,f,p,d,h,m=(n.before||"")+(t||"")+(n.after||""),g=[],v=[],x={},y=-1;++y<e.unsafe.length;)if(l=e.unsafe[y],o(e.stack,l))for(f=r(l);p=f.exec(m);)u="before"in l||l.atBreak,c="after"in l,s=p.index+(u?p[1].length:0),-1===g.indexOf(s)?(g.push(s),x[s]={before:u,after:c}):(x[s].before&&!u&&(x[s].before=!1),x[s].after&&!c&&(x[s].after=!1));for(g.sort(i),d=n.before?n.before.length:0,h=m.length-(n.after?n.after.length:0),y=-1;++y<g.length;)(s=g[y])<d||s>=h||s+1<h&&g[y+1]===s+1&&x[s].after&&!x[s+1].before&&!x[s+1].after||(d!==s&&v.push(a(m.slice(d,s),"\\")),d=s,!/[!-/:-@[-`{-~]/.test(m.charAt(s))||n.encode&&-1!==n.encode.indexOf(m.charAt(s))?(v.push("&#x"+m.charCodeAt(s).toString(16).toUpperCase()+";"),d++):v.push("\\"));return v.push(a(m.slice(d,h),n.after)),v.join("")};var r=n(8674),o=n(5969);function i(e,t){return e-t}function a(e,t){for(var n,r=/\\(?=[!-/:-@[-`{-~])/g,o=[],i=[],a=-1,u=0,c=e+t;n=r.exec(c);)o.push(n.index);for(;++a<o.length;)u!==o[a]&&i.push(e.slice(u,o[a])),i.push("\\"),u=o[a];return i.push(e.slice(u)),i.join("")}},1474:(e,t,n)=>{const r=n(2337),o=n(8886),{wrap:i,isURL:a,isPotentiallyEncoded:u}=n(6047),c=String.fromCharCode(8203),s=e=>({heading:(e,t,n)=>{const r=n.enter("heading"),a=o(e,n,{before:"*",after:"*"});return r(),i(a,"*")},strong:(e,t,n)=>{const r=n.enter("strong"),a=o(e,n,{before:"*",after:"*"});return r(),i(a,c,"*")},delete(e,t,n){const r=n.enter("delete"),a=o(e,n,{before:"~",after:"~"});return r(),i(a,c,"~")},emphasis:(e,t,n)=>{const r=n.enter("emphasis"),a=o(e,n,{before:"_",after:"_"});return r(),i(a,c,"_")},listItem:(...e)=>r.listItem(...e).replace(/^\*/,"•"),code(e,t,n){const r=n.enter("code"),o=e.value.replace(/^#![a-z]+\n/,"");return r(),i(o,"```","\n")},link:(e,t,n)=>{const r=n.enter("link"),i=o(e,n,{before:"|",after:">"})||e.title,c=u(e.url)?e.url:encodeURI(e.url);return r(),a(c)?i?`<${c}|${i}>`:`<${c}>`:i||c},linkReference:(t,n,r)=>{const i=r.enter("linkReference"),u=e[t.identifier],c=o(t,r,{before:"|",after:">"})||(u?u.title:null);return i(),u&&a(u.url)?c?`<${u.url}|${c}>`:`<${u.url}>`:c},image:(e,t,n)=>{const r=n.enter("image"),o=e.alt||e.title,i=encodeURI(e.url);return r(),a(i)?o?`<${i}|${o}>`:`<${i}>`:o||i},imageReference:(t,n,r)=>{const o=r.enter("imageReference"),i=e[t.identifier],u=t.alt||(i?i.title:null);return o(),i&&a(i.url)?u?`<${i.url}|${u}>`:`<${i.url}>`:u},text:(e,t,n)=>{const r=n.enter("text"),o=(e=>e.replace("&","&amp;").replace(/<([^@]|$)/g,((e,t)=>`&lt;${t}`)).replace(/^(.*)>/g,((e,t)=>Boolean(t.match(/<@[A-Z0-9]+$/))?`${t}>`:`${t}&gt;`)))(e.value);return r(),o}});e.exports=e=>({bullet:"*",handlers:s(e)})},1584:(e,t,n)=>{"use strict";var r=n(9098)(/\d/);e.exports=r},1717:(e,t,n)=>{"use strict";var r=n(5208);e.exports=function(e,t){for(var n,l,f,p,d,y,k,b,E,C,w,L,S=t||{},A=!1!==S.padding,T=!1!==S.delimiterStart,M=!1!==S.delimiterEnd,F=(S.align||[]).concat(),O=!1!==S.alignDelimiters,_=[],P=S.stringLength||v,R=-1,I=e.length,D=[],B=[],z=[],N=[],H=[],j=0;++R<I;){for(l=-1,z=[],N=[],(f=(n=e[R]).length)>j&&(j=f);++l<f;)y=null==(L=n[l])?"":String(L),!0===O&&(d=P(y),N[l]=d,(void 0===(p=H[l])||d>p)&&(H[l]=d)),z.push(y);D[R]=z,B[R]=N}if(l=-1,f=j,"object"==typeof F&&"length"in F)for(;++l<f;)_[l]=x(F[l]);else for(w=x(F);++l<f;)_[l]=w;for(l=-1,f=j,z=[],N=[];++l<f;)E="",C="",(w=_[l])===m?E=c:w===g?C=c:w===h&&(E=c,C=c),d=O?Math.max(1,H[l]-E.length-C.length):1,y=E+r(u,d)+C,!0===O&&((d=E.length+d+C.length)>H[l]&&(H[l]=d),N[l]=d),z[l]=y;for(D.splice(1,0,z),B.splice(1,0,N),R=-1,I=D.length,k=[];++R<I;){for(z=D[R],N=B[R],l=-1,f=j,b=[];++l<f;)y=z[l]||"",E="",C="",!0===O&&(d=H[l]-(N[l]||0),(w=_[l])===g?E=r(i,d):w===h?d%2==0?C=E=r(i,d/2):(E=r(i,d/2+.5),C=r(i,d/2-.5)):C=r(i,d)),!0===T&&0===l&&b.push(s),!0!==A||!1===O&&""===y||!0!==T&&0===l||b.push(i),!0===O&&b.push(E),b.push(y),!0===O&&b.push(C),!0===A&&b.push(i),!0!==M&&l===f-1||b.push(s);b=b.join(""),!1===M&&(b=b.replace(o,"")),k.push(b)}return k.join(a)};var o=/ +$/,i=" ",a="\n",u="-",c=":",s="|",l=0,f=67,p=76,d=82,h=99,m=108,g=114;function v(e){return e.length}function x(e){var t="string"==typeof e?e.charCodeAt(0):l;return t===p||t===m?m:t===d||t===g?g:t===f||t===h?h:l}},1948:(e,t,n)=>{var r=n(3576),o=n(6655),i=n(4537),a=n(2466),u=n(1114);e.exports=function(e){return r([o,i(e),a,u])}},2143:e=>{"use strict";function t(){return!0}e.exports=function e(n){if(null==n)return t;if("string"==typeof n)return function(e){return function(t){return Boolean(t&&t.type===e)}}(n);if("object"==typeof n)return"length"in n?function(t){for(var n=[],r=-1;++r<t.length;)n[r]=e(t[r]);return function(){for(var e=-1;++e<n.length;)if(n[e].apply(this,arguments))return!0;return!1}}(n):function(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(n);if("function"==typeof n)return n;throw new Error("Expected function, string, or object as test")}},2287:(e,t)=>{function n(e){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===e.type}t.exit={taskListCheckValueChecked:n,taskListCheckValueUnchecked:n,paragraph:function(e){var t,n=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],o=n.children,i=r.children[0],a=-1;if(n&&"listItem"===n.type&&"boolean"==typeof n.checked&&i&&"text"===i.type){for(;++a<o.length;)if("paragraph"===o[a].type){t=o[a];break}t===r&&(i.value=i.value.slice(1),0===i.value.length?r.children.shift():(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}this.exit(e)}}},2300:(e,t,n)=>{e.exports=a,a.peek=function(){return"["};var r=n(9611),o=n(8886),i=n(1463);function a(e,t,n){var a,u,c=e.referenceType,s=n.enter("linkReference"),l=n.enter("label"),f=o(e,n,{before:"[",after:"]"}),p="["+f+"]";return l(),u=n.stack,n.stack=[],l=n.enter("reference"),a=i(n,r(e),{before:"[",after:"]"}),l(),n.stack=u,s(),"full"!==c&&f&&f===a?"shortcut"!==c&&(p+="[]"):p+="["+a+"]",p}},2302:(e,t,n)=>{"use strict";var r={name:"labelStartImage",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o};function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:n(6611).resolveAll};e.exports=r},2321:e=>{"use strict";e.exports=function(e,t){var n,r=t.start._index,o=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;return r===i?n=[e[r].slice(o,a)]:(n=e.slice(r,i),o>-1&&(n[0]=n[0].slice(o)),a>0&&n.push(e[i].slice(0,a))),n}},2337:(e,t,n)=>{t.blockquote=n(1408),t.break=n(4253),t.code=n(3497),t.definition=n(8085),t.emphasis=n(4482),t.hardBreak=n(4253),t.heading=n(6496),t.html=n(5269),t.image=n(8147),t.imageReference=n(1247),t.inlineCode=n(3911),t.link=n(544),t.linkReference=n(2300),t.list=n(9212),t.listItem=n(3694),t.paragraph=n(2760),t.root=n(4568),t.strong=n(7871),t.text=n(9031),t.thematicBreak=n(3845)},2397:(e,t)=>{function n(e){this.exit(e)}function r(e){this.enter({type:"tableCell",children:[]},e)}function o(e,t){return"|"===t?t:e}t.enter={table:function(e){this.enter({type:"table",align:e._align,children:[]},e),this.setData("inTable",!0)},tableData:r,tableHeader:r,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},t.exit={codeText:function(e){var t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,o)),this.stack[this.stack.length-1].value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:n,tableHeader:n,tableRow:n}},2460:e=>{e.exports=function(e){var t=e.options.listItemIndent||"tab";if(1===t||"1"===t)return"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}},2466:(e,t,n)=>{e.exports=n(5399)},2486:e=>{"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},2503:(e,t,n)=>{e.exports=function(e,t){var n,f=t||{},p={enter:function(e){return p.stack.push(e),function(){p.stack.pop()}},stack:[],unsafe:[],join:[],handlers:{},options:{}};return o(p,{unsafe:u,join:a,handlers:i}),o(p,f),p.options.tightDefinitions&&(p.join=[l].concat(p.join)),p.handle=r("type",{invalid:c,unknown:s,handlers:p.handlers}),(n=p.handle(e,null,p,{before:"\n",after:"\n"}))&&10!==n.charCodeAt(n.length-1)&&13!==n.charCodeAt(n.length-1)&&(n+="\n"),n};var r=n(8008),o=n(6495),i=n(2337),a=n(3891),u=n(2605);function c(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function s(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function l(e,t){if("definition"===e.type&&e.type===t.type)return 0}},2519:e=>{"use strict";var t={}.hasOwnProperty;e.exports=t},2523:(e,t,n)=>{var r=n(4929),o=n(8061),i=n(7182),a=n(7816),u=n(6495);e.exports=function(e){var t=u({handlers:{},join:[],unsafe:[],options:{}},{extensions:[r,o,i(e),a]});return Object.assign(t.options,{handlers:t.handlers,join:t.join,unsafe:t.unsafe})}},2605:e=>{e.exports=[{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing"},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing"},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing"},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing"},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:["phrasing","label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{before:"[^A-Za-z]",character:"_",inConstruct:"phrasing"},{character:"_",after:"[^A-Za-z]",inConstruct:"phrasing"},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent","phrasing"]},{atBreak:!0,character:"~"}]},2619:e=>{e.exports=function(e){var t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}},2678:(e,t,n)=>{"use strict";var r=n(8177),o=n(2778),i=n(1073),a=n(4056),u=n(5009),c=n(5524),s={name:"htmlText",tokenize:function(e,t,n){var s,l,f,p,d=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),h};function h(t){return 33===t?(e.consume(t),m):47===t?(e.consume(t),T):63===t?(e.consume(t),S):r(t)?(e.consume(t),O):n(t)}function m(t){return 45===t?(e.consume(t),g):91===t?(e.consume(t),l="CDATA[",f=0,b):r(t)?(e.consume(t),L):n(t)}function g(t){return 45===t?(e.consume(t),v):n(t)}function v(t){return null===t||62===t?n(t):45===t?(e.consume(t),x):y(t)}function x(e){return null===e||62===e?n(e):y(e)}function y(t){return null===t?n(t):45===t?(e.consume(t),k):i(t)?(p=y,N(t)):(e.consume(t),y)}function k(t){return 45===t?(e.consume(t),j):y(t)}function b(t){return t===l.charCodeAt(f++)?(e.consume(t),f===l.length?E:b):n(t)}function E(t){return null===t?n(t):93===t?(e.consume(t),C):i(t)?(p=E,N(t)):(e.consume(t),E)}function C(t){return 93===t?(e.consume(t),w):E(t)}function w(t){return 62===t?j(t):93===t?(e.consume(t),w):E(t)}function L(t){return null===t||62===t?j(t):i(t)?(p=L,N(t)):(e.consume(t),L)}function S(t){return null===t?n(t):63===t?(e.consume(t),A):i(t)?(p=S,N(t)):(e.consume(t),S)}function A(e){return 62===e?j(e):S(e)}function T(t){return r(t)?(e.consume(t),M):n(t)}function M(t){return 45===t||o(t)?(e.consume(t),M):F(t)}function F(t){return i(t)?(p=F,N(t)):u(t)?(e.consume(t),F):j(t)}function O(t){return 45===t||o(t)?(e.consume(t),O):47===t||62===t||a(t)?_(t):n(t)}function _(t){return 47===t?(e.consume(t),j):58===t||95===t||r(t)?(e.consume(t),P):i(t)?(p=_,N(t)):u(t)?(e.consume(t),_):j(t)}function P(t){return 45===t||46===t||58===t||95===t||o(t)?(e.consume(t),P):R(t)}function R(t){return 61===t?(e.consume(t),I):i(t)?(p=R,N(t)):u(t)?(e.consume(t),R):_(t)}function I(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,D):i(t)?(p=I,N(t)):u(t)?(e.consume(t),I):(e.consume(t),s=void 0,z)}function D(t){return t===s?(e.consume(t),B):null===t?n(t):i(t)?(p=D,N(t)):(e.consume(t),D)}function B(e){return 62===e||47===e||a(e)?_(e):n(e)}function z(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||a(t)?_(t):(e.consume(t),z)}function N(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),c(e,H,"linePrefix",d.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function H(t){return e.enter("htmlTextData"),p(t)}function j(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}}};e.exports=s},2760:(e,t,n)=>{e.exports=function(e,t,n){var o=n.enter("paragraph"),i=n.enter("phrasing"),a=r(e,n,{before:"\n",after:"\n"});return i(),o(),a};var r=n(8886)},2778:(e,t,n)=>{"use strict";var r=n(9098)(/[\dA-Za-z]/);e.exports=r},2834:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},2849:(e,t,n)=>{"use strict";e.exports=function(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){var t=e||{},n=function(e,t){for(var n=-1;++n<t.length;)d(e,t[n]);return e}({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:g(F),autolinkProtocol:E,autolinkEmail:E,atxHeading:g(A),blockQuote:g((function(){return{type:"blockquote",children:[]}})),characterEscape:E,characterReference:E,codeFenced:g(S),codeFencedFenceInfo:v,codeFencedFenceMeta:v,codeIndented:g(S,v),codeText:g((function(){return{type:"inlineCode",value:""}}),v),codeTextData:E,data:E,codeFlowValue:E,definition:g((function(){return{type:"definition",identifier:"",label:null,title:null,url:""}})),definitionDestinationString:v,definitionLabelString:v,definitionTitleString:v,emphasis:g((function(){return{type:"emphasis",children:[]}})),hardBreakEscape:g(T),hardBreakTrailing:g(T),htmlFlow:g(M,v),htmlFlowData:E,htmlText:g(M,v),htmlTextData:E,image:g((function(){return{type:"image",title:null,url:"",alt:null}})),label:v,link:g(F),listItem:g((function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}})),listItemValue:function(e){h("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(e),10),l("expectingFirstListItemValue"))},listOrdered:g(O,(function(){l("expectingFirstListItemValue",!0)})),listUnordered:g(O),paragraph:g((function(){return{type:"paragraph",children:[]}})),reference:function(){l("referenceType","collapsed")},referenceString:v,resourceDestinationString:v,resourceTitleString:v,setextHeading:g(A),strong:g((function(){return{type:"strong",children:[]}})),thematicBreak:g((function(){return{type:"thematicBreak"}}))},exit:{atxHeading:y(),atxHeadingSequence:function(e){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(e).length)},autolink:y(),autolinkEmail:function(e){C.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){C.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:y(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:L,characterReferenceMarkerNumeric:L,characterReferenceValue:function(e){var t,n,r=this.sliceSerialize(e),o=h("characterReferenceType");o?(t=u(r,"characterReferenceMarkerNumeric"===o?10:16),l("characterReferenceType")):t=f(r),(n=this.stack.pop()).value+=t,n.position.end=m(e.end)},codeFenced:y((function(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")})),codeFencedFence:function(){h("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))},codeFencedFenceInfo:function(){var e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){var e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:C,codeIndented:y((function(){var e=this.resume();this.stack[this.stack.length-1].value=e})),codeText:y((function(){var e=this.resume();this.stack[this.stack.length-1].value=e})),codeTextData:C,data:C,definition:y(),definitionDestinationString:function(){var e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){var t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=a(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){var e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:y(),hardBreakEscape:y(w),hardBreakTrailing:y(w),htmlFlow:y((function(){var e=this.resume();this.stack[this.stack.length-1].value=e})),htmlFlowData:C,htmlText:y((function(){var e=this.resume();this.stack[this.stack.length-1].value=e})),htmlTextData:C,image:y((function(){var e=this.stack[this.stack.length-1];h("inReference")?(e.type+="Reference",e.referenceType=h("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType),l("referenceType")})),label:function(){var e=this.stack[this.stack.length-1],t=this.resume();this.stack[this.stack.length-1].label=t,l("inReference",!0),"link"===this.stack[this.stack.length-1].type?this.stack[this.stack.length-1].children=e.children:this.stack[this.stack.length-1].alt=t},labelText:function(e){this.stack[this.stack.length-2].identifier=a(this.sliceSerialize(e)).toLowerCase()},lineEnding:function(e){var t=this.stack[this.stack.length-1];if(h("atHardBreak"))return t.children[t.children.length-1].position.end=m(e.end),void l("atHardBreak");!h("setextHeadingSlurpLineEnding")&&n.canContainEols.indexOf(t.type)>-1&&(E.call(this,e),C.call(this,e))},link:y((function(){var e=this.stack[this.stack.length-1];h("inReference")?(e.type+="Reference",e.referenceType=h("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType),l("referenceType")})),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:function(e){var t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=a(this.sliceSerialize(e)).toLowerCase(),l("referenceType","full")},resourceDestinationString:function(){var e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){var e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){l("inReference")},setextHeading:y((function(){l("setextHeadingSlurpLineEnding")})),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2},setextHeadingText:function(){l("setextHeadingSlurpLineEnding",!0)},strong:y(),thematicBreak:y()}},t.mdastExtensions||[]),c={};return function(e){for(var t,r={type:"root",children:[]},a=[],u=[],c=-1,f={stack:[r],tokenStack:a,config:n,enter:x,exit:k,buffer:v,resume:b,setData:l,getData:h};++c<e.length;)"listOrdered"!==e[c][1].type&&"listUnordered"!==e[c][1].type||("enter"===e[c][0]?u.push(c):c=s(e,u.pop(c),c));for(c=-1;++c<e.length;)t=n[e[c][0]],i.call(t,e[c][1].type)&&t[e[c][1].type].call(o({sliceSerialize:e[c][2].sliceSerialize},f),e[c][1]);if(a.length)throw new Error("Cannot close document, a token (`"+a[a.length-1].type+"`, "+p({start:a[a.length-1].start,end:a[a.length-1].end})+") is still open");for(r.position={start:m(e.length?e[0][1].start:{line:1,column:1,offset:0}),end:m(e.length?e[e.length-2][1].end:{line:1,column:1,offset:0})},c=-1;++c<n.transforms.length;)r=n.transforms[c](r)||r;return r};function s(e,t,n){for(var r,o,i,a,u,c,s,l=t-1,f=-1,p=!1;++l<=n;)if("listUnordered"===(u=e[l])[1].type||"listOrdered"===u[1].type||"blockQuote"===u[1].type?("enter"===u[0]?f++:f--,s=void 0):"lineEndingBlank"===u[1].type?"enter"===u[0]&&(!r||s||f||c||(c=l),s=void 0):"linePrefix"===u[1].type||"listItemValue"===u[1].type||"listItemMarker"===u[1].type||"listItemPrefix"===u[1].type||"listItemPrefixWhitespace"===u[1].type||(s=void 0),!f&&"enter"===u[0]&&"listItemPrefix"===u[1].type||-1===f&&"exit"===u[0]&&("listUnordered"===u[1].type||"listOrdered"===u[1].type)){if(r){for(o=l,i=void 0;o--;)if("lineEnding"===(a=e[o])[1].type||"lineEndingBlank"===a[1].type){if("exit"===a[0])continue;i&&(e[i][1].type="lineEndingBlank",p=!0),a[1].type="lineEnding",i=o}else if("linePrefix"!==a[1].type&&"blockQuotePrefix"!==a[1].type&&"blockQuotePrefixWhitespace"!==a[1].type&&"blockQuoteMarker"!==a[1].type&&"listItemIndent"!==a[1].type)break;c&&(!i||c<i)&&(r._spread=!0),r.end=m(i?e[i][1].start:u[1].end),e.splice(i||l,0,["exit",r,u[2]]),l++,n++}"listItemPrefix"===u[1].type&&(r={type:"listItem",_spread:!1,start:m(u[1].start)},e.splice(l,0,["enter",r,u[2]]),l++,n++,c=void 0,s=!0)}return e[t][1]._spread=p,n}function l(e,t){c[e]=t}function h(e){return c[e]}function m(e){return{line:e.line,column:e.column,offset:e.offset}}function g(e,t){return function(n){x.call(this,e(n),n),t&&t.call(this,n)}}function v(){this.stack.push({type:"fragment",children:[]})}function x(e,t){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push(t),e.position={start:m(t.start)},e}function y(e){return function(t){e&&e.call(this,t),k.call(this,t)}}function k(e){var t=this.stack.pop(),n=this.tokenStack.pop();if(!n)throw new Error("Cannot close `"+e.type+"` ("+p({start:e.start,end:e.end})+"): it’s not open");if(n.type!==e.type)throw new Error("Cannot close `"+e.type+"` ("+p({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+p({start:n.start,end:n.end})+") is open");return t.position.end=m(e.end),t}function b(){return r(this.stack.pop())}function E(e){var t=this.stack[this.stack.length-1].children,n=t[t.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:m(e.start)},this.stack[this.stack.length-1].children.push(n)),this.stack.push(n)}function C(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=m(e.end)}function w(){l("atHardBreak",!0)}function L(e){l("characterReferenceType",e.type)}function S(){return{type:"code",lang:null,meta:null,value:""}}function A(){return{type:"heading",depth:void 0,children:[]}}function T(){return{type:"break"}}function M(){return{type:"html",value:""}}function F(){return{type:"link",title:null,url:"",children:[]}}function O(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}(n)(l(c(n).document().write(s()(e,t,!0))))};var r=n(9027),o=n(6891),i=n(2519),a=n(1303),u=n(440),c=n(1296),s=n(9061),l=n(7192),f=n(4360),p=n(6731);function d(e,t){var n,r;for(n in t)r=i.call(e,n)?e[n]:e[n]={},"canContainEols"===n||"transforms"===n?e[n]=[].concat(r,t[n]):Object.assign(r,t[n])}},3061:(e,t,n)=>{"use strict";var r=n(28),o=n(9098)(r);e.exports=o},3085:(e,t,n)=>{"use strict";var r=n(8177),o=n(2778),i=n(1073),a=n(4056),u=n(5009),c=n(7325),s=n(2486),l=n(4765),f=n(7774),p={name:"htmlFlow",tokenize:function(e,t,n){var f,p,h,m,g,v=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),x};function x(o){return 33===o?(e.consume(o),y):47===o?(e.consume(o),E):63===o?(e.consume(o),f=3,v.interrupt?t:U):r(o)?(e.consume(o),h=c(o),p=!0,C):n(o)}function y(o){return 45===o?(e.consume(o),f=2,k):91===o?(e.consume(o),f=5,h="CDATA[",m=0,b):r(o)?(e.consume(o),f=4,v.interrupt?t:U):n(o)}function k(r){return 45===r?(e.consume(r),v.interrupt?t:U):n(r)}function b(r){return r===h.charCodeAt(m++)?(e.consume(r),m===h.length?v.interrupt?t:I:b):n(r)}function E(t){return r(t)?(e.consume(t),h=c(t),C):n(t)}function C(r){return null===r||47===r||62===r||a(r)?47!==r&&p&&l.indexOf(h.toLowerCase())>-1?(f=1,v.interrupt?t(r):I(r)):s.indexOf(h.toLowerCase())>-1?(f=6,47===r?(e.consume(r),w):v.interrupt?t(r):I(r)):(f=7,v.interrupt?n(r):p?S(r):L(r)):45===r||o(r)?(e.consume(r),h+=c(r),C):n(r)}function w(r){return 62===r?(e.consume(r),v.interrupt?t:I):n(r)}function L(t){return u(t)?(e.consume(t),L):P(t)}function S(t){return 47===t?(e.consume(t),P):58===t||95===t||r(t)?(e.consume(t),A):u(t)?(e.consume(t),S):P(t)}function A(t){return 45===t||46===t||58===t||95===t||o(t)?(e.consume(t),A):T(t)}function T(t){return 61===t?(e.consume(t),M):u(t)?(e.consume(t),T):S(t)}function M(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),g=t,F):u(t)?(e.consume(t),M):(g=void 0,O(t))}function F(t){return t===g?(e.consume(t),_):null===t||i(t)?n(t):(e.consume(t),F)}function O(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||a(t)?T(t):(e.consume(t),O)}function _(e){return 47===e||62===e||u(e)?S(e):n(e)}function P(t){return 62===t?(e.consume(t),R):n(t)}function R(t){return u(t)?(e.consume(t),R):null===t||i(t)?I(t):n(t)}function I(t){return 45===t&&2===f?(e.consume(t),z):60===t&&1===f?(e.consume(t),N):62===t&&4===f?(e.consume(t),q):63===t&&3===f?(e.consume(t),U):93===t&&5===f?(e.consume(t),j):!i(t)||6!==f&&7!==f?null===t||i(t)?D(t):(e.consume(t),I):e.check(d,q,D)(t)}function D(t){return e.exit("htmlFlowData"),B(t)}function B(t){return null===t?$(t):i(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),B):(e.enter("htmlFlowData"),I(t))}function z(t){return 45===t?(e.consume(t),U):I(t)}function N(t){return 47===t?(e.consume(t),h="",H):I(t)}function H(t){return 62===t&&l.indexOf(h.toLowerCase())>-1?(e.consume(t),q):r(t)&&h.length<8?(e.consume(t),h+=c(t),H):I(t)}function j(t){return 93===t?(e.consume(t),U):I(t)}function U(t){return 62===t?(e.consume(t),q):I(t)}function q(t){return null===t||i(t)?(e.exit("htmlFlowData"),$(t)):(e.consume(t),q)}function $(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){for(var t=e.length;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0},d={tokenize:function(e,t,n){return function(r){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),e.attempt(f,t,n)}},partial:!0};e.exports=p},3287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1073),o=n(5524);t.tokenize=function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,(function(t){if(null!==t)return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o(e,n,"linePrefix");e.consume(t)}),(function(t){return e.enter("paragraph"),i(t)}));return n;function i(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,a(n)}function a(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):r(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),a)}}},3328:(e,t,n)=>{const r=n(6848),o=n(5223);e.exports={collectDefinitions:e=>t=>{o(t,"definition",(t=>{e[t.identifier]={title:t.title,url:t.url}}))},removeDefinitions:()=>e=>{r(e,{cascade:!0},"definition")}}},3418:e=>{"use strict";var t=[].slice;e.exports=function(e,n){var r;return function(){var n,a=t.call(arguments,0),u=e.length>a.length;u&&a.push(o);try{n=e.apply(null,a)}catch(e){if(u&&r)throw e;return o(e)}u||(n&&"function"==typeof n.then?n.then(i,o):n instanceof Error?o(n):i(n))};function o(){r||(r=!0,n.apply(null,arguments))}function i(e){o(null,e)}}},3430:(e,t)=>{"use strict";function n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}t.basename=function(e,t){var r,o,i,a,u=0,c=-1;if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');if(n(e),r=e.length,void 0===t||!t.length||t.length>e.length){for(;r--;)if(47===e.charCodeAt(r)){if(i){u=r+1;break}}else c<0&&(i=!0,c=r+1);return c<0?"":e.slice(u,c)}if(t===e)return"";for(o=-1,a=t.length-1;r--;)if(47===e.charCodeAt(r)){if(i){u=r+1;break}}else o<0&&(i=!0,o=r+1),a>-1&&(e.charCodeAt(r)===t.charCodeAt(a--)?a<0&&(c=r):(a=-1,c=o));return u===c?c=o:c<0&&(c=e.length),e.slice(u,c)},t.dirname=function(e){var t,r,o;if(n(e),!e.length)return".";for(t=-1,o=e.length;--o;)if(47===e.charCodeAt(o)){if(r){t=o;break}}else r||(r=!0);return t<0?47===e.charCodeAt(0)?"/":".":1===t&&47===e.charCodeAt(0)?"//":e.slice(0,t)},t.extname=function(e){var t,r,o,i=-1,a=0,u=-1,c=0;for(n(e),o=e.length;o--;)if(47!==(r=e.charCodeAt(o)))u<0&&(t=!0,u=o+1),46===r?i<0?i=o:1!==c&&(c=1):i>-1&&(c=-1);else if(t){a=o+1;break}return i<0||u<0||0===c||1===c&&i===u-1&&i===a+1?"":e.slice(i,u)},t.join=function(){for(var e,t,r,o,i=-1;++i<arguments.length;)n(arguments[i]),arguments[i]&&(e=void 0===e?arguments[i]:e+"/"+arguments[i]);return void 0===e?".":(n(t=e),r=47===t.charCodeAt(0),o=function(e,t){for(var n,r,o="",i=0,a=-1,u=0,c=-1;++c<=e.length;){if(c<e.length)n=e.charCodeAt(c);else{if(47===n)break;n=47}if(47===n){if(a===c-1||1===u);else if(a!==c-1&&2===u){if(o.length<2||2!==i||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){if((r=o.lastIndexOf("/"))!==o.length-1){r<0?(o="",i=0):i=(o=o.slice(0,r)).length-1-o.lastIndexOf("/"),a=c,u=0;continue}}else if(o.length){o="",i=0,a=c,u=0;continue}t&&(o=o.length?o+"/..":"..",i=2)}else o.length?o+="/"+e.slice(a+1,c):o=e.slice(a+1,c),i=c-a-1;a=c,u=0}else 46===n&&u>-1?u++:u=-1}return o}(t,!r),o.length||r||(o="."),o.length&&47===t.charCodeAt(t.length-1)&&(o+="/"),r?"/"+o:o)},t.sep="/"},3450:(e,t,n)=>{var r=n(7465),o=n(164),i=n(3061),a=n(4012);function u(e){this.config.enter.autolinkProtocol.call(this,e)}function c(e,t,n,o,i){var a,u,c="";return!!l(i)&&(/^w/i.test(t)&&(n=t+n,t="",c="http://"),!!function(e){var t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n)&&!!(a=function(e){var t,n,o,i=/[!"&'),.:;<>?\]}]+$/.exec(e);if(i)for(e=e.slice(0,i.index),t=(i=i[0]).indexOf(")"),n=r(e,"("),o=r(e,")");-1!==t&&n>o;)e+=i.slice(0,t+1),t=(i=i.slice(t+1)).indexOf(")"),o++;return[e,i]}(n+o))[0]&&(u={type:"link",title:null,url:c+t+a[0],children:[{type:"text",value:t+a[0]}]},a[1]&&(u=[u,{type:"text",value:a[1]}]),u))}function s(e,t,n,r){return!(!l(r,!0)||/[_-]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function l(e,t){var n=e.input.charCodeAt(e.index-1);return(n!=n||a(n)||i(n))&&(!t||47!==n)}t.transforms=[function(e){o(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,c],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,s]],{ignore:["link","linkReference"]})}],t.enter={literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:u,literalAutolinkHttp:u,literalAutolinkWww:u},t.exit={literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(e)}}},3497:(e,t,n)=>{e.exports=function(e,t,n){var l,f,p,d,h=a(n),m=e.value||"",g="`"===h?"GraveAccent":"Tilde";return i(e,n)?(p=n.enter("codeIndented"),l=u(m,s)):(f=r(h,Math.max(o(m,h)+1,3)),p=n.enter("codeFenced"),l=f,e.lang&&(d=n.enter("codeFencedLang"+g),l+=c(n,e.lang,{before:"`",after:" ",encode:["`"]}),d()),e.lang&&e.meta&&(d=n.enter("codeFencedMeta"+g),l+=" "+c(n,e.meta,{before:" ",after:"\n",encode:["`"]}),d()),l+="\n",m&&(l+=m+"\n"),l+=f),p(),l};var r=n(5208),o=n(7110),i=n(4854),a=n(8172),u=n(4378),c=n(1463);function s(e,t,n){return(n?"":"    ")+e}},3576:(e,t,n)=>{"use strict";var r=n(2519),o=n(9653),i=n(6310);function a(e,t){var n,o,a,c;for(n in t)for(c in o=r.call(e,n)?e[n]:e[n]={},a=t[n])o[c]=u(i(a[c]),r.call(o,c)?o[c]:[])}function u(e,t){for(var n=-1,r=[];++n<e.length;)("after"===e[n].add?t:r).push(e[n]);return o(t,0,0,r),t}e.exports=function(e){for(var t={},n=-1;++n<e.length;)a(t,e[n]);return t}},3655:e=>{e.exports=function(e){var t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}},3694:(e,t,n)=>{e.exports=function(e,t,n){var c,s,l,f=o(n),p=i(n);return t&&t.ordered&&(f=(t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+"."),c=f.length+1,("tab"===p||"mixed"===p&&(t&&t.spread||e.spread))&&(c=4*Math.ceil(c/4)),l=n.enter("listItem"),s=u(a(e,n),(function(e,t,n){return t?(n?"":r(" ",c))+e:(n?f:f+r(" ",c-f.length))+e})),l(),s};var r=n(5208),o=n(7053),i=n(2460),a=n(9952),u=n(4378)},3805:(e,t,n)=>{"use strict";e.exports=function(e){var t=this;this.Compiler=function(n){return r(n,Object.assign({},t.data("settings"),e,{extensions:t.data("toMarkdownExtensions")||[]}))}};var r=n(9639)},3845:(e,t,n)=>{e.exports=function(e,t,n){var a=r(i(n)+(n.options.ruleSpaces?" ":""),o(n));return n.options.ruleSpaces?a.slice(0,-1):a};var r=n(5208),o=n(3655),i=n(9615)},3891:(e,t,n)=>{e.exports=[function(e,t,n,i){if("list"===t.type&&t.type===e.type&&Boolean(e.ordered)===Boolean(t.ordered)||"code"===t.type&&r(t,i)&&("list"===e.type||e.type===t.type&&r(e,i)))return!1;if("boolean"==typeof n.spread){if("paragraph"===e.type&&(e.type===t.type||"definition"===t.type||"heading"===t.type&&o(t,i)))return;return n.spread?1:0}}];var r=n(4854),o=n(5611)},3911:(e,t,n)=>{e.exports=o,o.peek=function(){return"`"};var r=n(8674);function o(e,t,n){for(var o,i,a,u,c=e.value||"",s="`",l=-1;new RegExp("(^|[^`])"+s+"([^`]|$)").test(c);)s+="`";for(/[^ \r\n]/.test(c)&&(/[ \r\n`]/.test(c.charAt(0))||/[ \r\n`]/.test(c.charAt(c.length-1)))&&(c=" "+c+" ");++l<n.unsafe.length;)if((o=n.unsafe[l]).atBreak)for(i=r(o);a=i.exec(c);)u=a.index,10===c.charCodeAt(u)&&13===c.charCodeAt(u-1)&&u--,c=c.slice(0,u)+" "+c.slice(a.index+1);return s+c+s}},4012:(e,t,n)=>{"use strict";var r=n(9098)(/\s/);e.exports=r},4056:e=>{"use strict";e.exports=function(e){return e<0||32===e}},4104:(e,t,n)=>{"use strict";var r=n(1073),o=n(5009),i=n(5524),a={name:"thematicBreak",tokenize:function(e,t,n){var a,u=0;return function(t){return e.enter("thematicBreak"),a=t,c(t)};function c(l){return l===a?(e.enter("thematicBreakSequence"),s(l)):o(l)?i(e,c,"whitespace")(l):u<3||null!==l&&!r(l)?n(l):(e.exit("thematicBreak"),t(l))}function s(t){return t===a?(e.consume(t),u++,s):(e.exit("thematicBreakSequence"),c(t))}}};e.exports=a},4213:(e,t,n)=>{"use strict";var r=n(5009),o=n(5524),i={name:"blockQuote",tokenize:function(e,t,n){var o=this;return function(t){return 62===t?(o.containerState.open||(e.enter("blockQuote",{_container:!0}),o.containerState.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i):n(t)};function i(n){return r(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return o(e,e.attempt(i,t,n),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},exit:function(e){e.exit("blockQuote")}};e.exports=i},4253:(e,t,n)=>{e.exports=function(e,t,n,o){for(var i=-1;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&r(n.stack,n.unsafe[i]))return/[ \t]/.test(o.before)?"":" ";return"\\\n"};var r=n(5969)},4360:e=>{"use strict";var t;e.exports=function(e){var n,r="&"+e+";";return(t=t||document.createElement("i")).innerHTML=r,(59!==(n=t.textContent).charCodeAt(n.length-1)||"semi"===e)&&(n!==r&&n)}},4378:e=>{e.exports=function(e,n){for(var r,o=[],i=0,a=0;r=t.exec(e);)u(e.slice(i,r.index)),o.push(r[0]),i=r.index+r[0].length,a++;return u(e.slice(i)),o.join("");function u(e){o.push(n(e,a,!e))}};var t=/\r?\n|\r/g},4460:(e,t,n)=>{var r=n(3450),o=n(9358),i=n(2397),a=n(2287),u={}.hasOwnProperty;function c(e,t){var n,r,o;for(n in t)r=u.call(e,n)?e[n]:e[n]={},o=t[n],"canContainEols"===n||"transforms"===n?e[n]=[].concat(r,o):Object.assign(r,o)}e.exports=function(e){for(var t={transforms:[],canContainEols:[]},n=e.length,r=-1;++r<n;)c(t,e[r]);return t}([r,o,i,a])},4474:e=>{"use strict";e.exports=function(e){for(var t=-1,n=0;++t<e.length;)n+="string"==typeof e[t]?e[t].length:1;return n}},4482:(e,t,n)=>{e.exports=i,i.peek=function(e,t,n){return n.options.emphasis||"*"};var r=n(2619),o=n(8886);function i(e,t,n){var i=r(n),a=n.enter("emphasis"),u=o(e,n,{before:i,after:i});return a(),i+u+i}},4537:(e,t,n)=>{e.exports=function(e){var t=(e||{}).singleTilde,n={tokenize:function(e,n,o){var i=this.previous,a=this.events,u=0;return function(t){return 126!==t||126===i&&"characterEscape"!==a[a.length-1][1].type?o(t):(e.enter("strikethroughSequenceTemporary"),c(t))};function c(a){var s,l,f=r(i);return 126===a?u>1?o(a):(e.consume(a),u++,c):u<2&&!t?o(a):(s=e.exit("strikethroughSequenceTemporary"),l=r(a),s._open=!l||2===l&&f,s._close=!f||2===f&&l,n(a))}},resolveAll:function(e,t){for(var n,r,u,c,s=-1;++s<e.length;)if("enter"===e[s][0]&&"strikethroughSequenceTemporary"===e[s][1].type&&e[s][1]._close)for(u=s;u--;)if("exit"===e[u][0]&&"strikethroughSequenceTemporary"===e[u][1].type&&e[u][1]._open&&e[s][1].end.offset-e[s][1].start.offset==e[u][1].end.offset-e[u][1].start.offset){e[s][1].type="strikethroughSequence",e[u][1].type="strikethroughSequence",n={type:"strikethrough",start:a(e[u][1].start),end:a(e[s][1].end)},r={type:"strikethroughText",start:a(e[u][1].end),end:a(e[s][1].start)},c=[["enter",n,t],["enter",e[u][1],t],["exit",e[u][1],t],["enter",r,t]],o(c,c.length,0,i(t.parser.constructs.insideSpan.null,e.slice(u+1,s),t)),o(c,c.length,0,[["exit",r,t],["enter",e[s][1],t],["exit",e[s][1],t],["exit",n,t]]),o(e,u-1,s-u+3,c),s=u+c.length-2;break}return function(e){for(var t=-1,n=e.length;++t<n;)"strikethroughSequenceTemporary"===e[t][1].type&&(e[t][1].type="data");return e}(e)}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:n}}};var r=n(8914),o=n(9653),i=n(1154),a=n(4896)},4568:(e,t,n)=>{e.exports=function(e,t,n){return r(e,n)};var r=n(9952)},4718:e=>{e.exports=function(e){return e}},4728:e=>{"use strict";e.exports=function(e,t){return e.column+=t,e.offset+=t,e._bufferIndex+=t,e}},4765:e=>{"use strict";e.exports=["pre","script","style","textarea"]},4854:e=>{e.exports=function(e,t){return!t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value)}},4896:(e,t,n)=>{"use strict";var r=n(6891);e.exports=function(e){return r({},e)}},4929:(e,t)=>{var n="phrasing",r=["autolink","link","image","label"];t.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:n,notInConstruct:r},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:n,notInConstruct:r},{character:":",before:"[ps]",after:"\\/",inConstruct:n,notInConstruct:r}]},4952:(e,t,n)=>{"use strict";var r=n(1073),o=n(9790),i=n(7227),a=n(5524),u={tokenize:function(e,t){var n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(t)};function o(t){return null===t?i(t):r(t)?e.check(c,a,i)(t):(e.consume(t),o)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n=n.next=e.enter("chunkContent",{contentType:"content",previous:n}),o}},resolve:function(e){return i(e),e},interruptible:!0,lazy:!0},c={tokenize:function(e,t,n){var i=this;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a(e,u,"linePrefix")};function u(a){return null===a||r(a)?n(a):i.parser.constructs.disable.null.indexOf("codeIndented")>-1||o(i.events,"linePrefix")<4?e.interrupt(i.parser.constructs.flow,n,t)(a):t(a)}},partial:!0};e.exports=u},5009:e=>{"use strict";e.exports=function(e){return-2===e||-1===e||32===e}},5208:e=>{"use strict";var t,n="";e.exports=function(e,r){if("string"!=typeof e)throw new TypeError("expected a string");if(1===r)return e;if(2===r)return e+e;var o=e.length*r;if(t!==e||void 0===t)t=e,n="";else if(n.length>=o)return n.substr(0,o);for(;o>n.length&&r>1;)1&r&&(n+=e),r>>=1,e+=e;return n=(n+=e).substr(0,o)}},5218:(e,t,n)=>{"use strict";var r=n(8177),o=n(2778),i=n(9841),a=n(1016),u={name:"autolink",tokenize:function(e,t,n){var u=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),c};function c(t){return r(t)?(e.consume(t),s):i(t)?p(t):n(t)}function s(e){return 43===e||45===e||46===e||o(e)?l(e):p(e)}function l(t){return 58===t?(e.consume(t),f):(43===t||45===t||46===t||o(t))&&u++<32?(e.consume(t),l):p(t)}function f(t){return 62===t?(e.exit("autolinkProtocol"),g(t)):32===t||60===t||a(t)?n(t):(e.consume(t),f)}function p(t){return 64===t?(e.consume(t),u=0,d):i(t)?(e.consume(t),p):n(t)}function d(e){return o(e)?h(e):n(e)}function h(t){return 46===t?(e.consume(t),u=0,d):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",g(t)):m(t)}function m(t){return(45===t||o(t))&&u++<63?(e.consume(t),45===t?m:h):n(t)}function g(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}};e.exports=u},5223:(e,t,n)=>{"use strict";e.exports=u;var r=n(6311),o=r.CONTINUE,i=r.SKIP,a=r.EXIT;function u(e,t,n,o){"function"==typeof t&&"function"!=typeof n&&(o=n,n=t,t=null),r(e,t,(function(e,t){var r=t[t.length-1],o=r?r.children.indexOf(e):null;return n(e,o,r)}),o)}u.CONTINUE=o,u.SKIP=i,u.EXIT=a},5230:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return void 0===r||t.call(e,r)},u=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(o)return o(e,n).value}return e[n]};e.exports=function e(){var t,n,r,o,s,l,f=arguments[0],p=1,d=arguments.length,h=!1;for("boolean"==typeof f&&(h=f,f=arguments[1]||{},p=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});p<d;++p)if(null!=(t=arguments[p]))for(n in t)r=c(f,n),f!==(o=c(t,n))&&(h&&o&&(a(o)||(s=i(o)))?(s?(s=!1,l=r&&i(r)?r:[]):l=r&&a(r)?r:{},u(f,{name:n,newValue:e(h,l,o)})):void 0!==o&&u(f,{name:n,newValue:o}));return f}},5269:e=>{function t(e){return e.value||""}e.exports=t,t.peek=function(){return"<"}},5399:(e,t,n)=>{t.flow={null:{tokenize:function(e,t,n){var a,u,c=[],s=0;return function(t){return null===t||-5===t||-4===t||-3===t?n(t):(e.enter("table")._align=c,e.enter("tableHead"),e.enter("tableRow"),124===t?l(t):(s++,e.enter("temporaryTableCellContent"),d(t)))};function l(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),a=!0,f}function f(t){return null===t||-5===t||-4===t||-3===t?function(t){return null===t?n(t):(e.exit("tableRow"),e.exit("tableHead"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),e.check(o,n,r(e,m,"linePrefix",4)))}(t):-2===t||-1===t||32===t?(e.enter("whitespace"),e.consume(t),p):(a&&(a=void 0,s++),124===t?l(t):(e.enter("temporaryTableCellContent"),d(t)))}function p(t){return-2===t||-1===t||32===t?(e.consume(t),p):(e.exit("whitespace"),f(t))}function d(t){return null===t||t<0||32===t||124===t?(e.exit("temporaryTableCellContent"),f(t)):(e.consume(t),92===t?h:d)}function h(t){return 92===t||124===t?(e.consume(t),d):d(t)}function m(t){return null===t||t<0||32===t?n(t):(e.enter("tableDelimiterRow"),g(t))}function g(t){return null===t||-5===t||-4===t||-3===t?b(t):-2===t||-1===t||32===t?(e.enter("whitespace"),e.consume(t),v):45===t?(e.enter("tableDelimiterFiller"),e.consume(t),u=!0,c.push(null),x):58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),c.push("left"),y):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):n(t)}function v(t){return-2===t||-1===t||32===t?(e.consume(t),v):(e.exit("whitespace"),g(t))}function x(t){return 45===t?(e.consume(t),x):(e.exit("tableDelimiterFiller"),58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),c[c.length-1]="left"===c[c.length-1]?"center":"right",k):g(t))}function y(t){return 45===t?(e.enter("tableDelimiterFiller"),e.consume(t),u=!0,x):n(t)}function k(t){return null===t||-5===t||-4===t||-3===t?b(t):-2===t||-1===t||32===t?(e.enter("whitespace"),e.consume(t),v):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):n(t)}function b(t){return e.exit("tableDelimiterRow"),u&&s===c.length?null===t?E(t):e.check(i,E,C)(t):n(t)}function E(n){return e.exit("table"),t(n)}function C(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r(e,w,"linePrefix",4)}function w(t){return e.enter("tableBody"),L(t)}function L(t){return e.enter("tableRow"),124===t?S(t):(e.enter("temporaryTableCellContent"),M(t))}function S(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),A}function A(t){return null===t||-5===t||-4===t||-3===t?function(t){return e.exit("tableRow"),null===t?O(t):e.check(i,O,_)(t)}(t):-2===t||-1===t||32===t?(e.enter("whitespace"),e.consume(t),T):124===t?S(t):(e.enter("temporaryTableCellContent"),M(t))}function T(t){return-2===t||-1===t||32===t?(e.consume(t),T):(e.exit("whitespace"),A(t))}function M(t){return null===t||t<0||32===t||124===t?(e.exit("temporaryTableCellContent"),A(t)):(e.consume(t),92===t?F:M)}function F(t){return 92===t||124===t?(e.consume(t),M):M(t)}function O(t){return e.exit("tableBody"),E(t)}function _(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r(e,L,"linePrefix",4)}},resolve:function(e,t){for(var n,r,o,i,a,u,c,s,l,f,p=e.length,d=-1;++d<p;)n=e[d][1],i&&("temporaryTableCellContent"===n.type&&(s=s||d,l=d),"tableCellDivider"!==n.type&&"tableRow"!==n.type||!l||(c={type:"chunkText",start:(u={type:"tableContent",start:e[s][1].start,end:e[l][1].end}).start,end:u.end,contentType:"text"},e.splice(s,l-s+1,["enter",u,t],["enter",c,t],["exit",c,t],["exit",u,t]),d-=l-s-3,p=e.length,s=void 0,l=void 0)),"exit"===e[d][0]&&f&&f+1<d&&("tableCellDivider"===n.type||"tableRow"===n.type&&(f+3<d||"whitespace"!==e[f][1].type))&&(a={type:o?"tableDelimiter":r?"tableHeader":"tableData",start:e[f][1].start,end:e[d][1].end},e.splice(d+("tableCellDivider"===n.type?1:0),0,["exit",a,t]),e.splice(f,0,["enter",a,t]),d+=2,p=e.length,f=d+1),"tableRow"===n.type&&(i="enter"===e[d][0])&&(f=d+1),"tableDelimiterRow"===n.type&&(o="enter"===e[d][0])&&(f=d+1),"tableHead"===n.type&&(r="enter"===e[d][0]);return e},interruptible:!0}};var r=n(5524),o={tokenize:function(e,t,n){return function(t){return 45!==t?n(t):(e.enter("setextUnderline"),r(t))};function r(t){return 45===t?(e.consume(t),r):o(t)}function o(r){return-2===r||-1===r||32===r?(e.consume(r),o):null===r||-5===r||-4===r||-3===r?t(r):n(r)}},partial:!0},i={tokenize:function(e,t,n){var r=0;return function(t){return e.enter("check"),e.consume(t),o};function o(i){return-1===i||32===i?(e.consume(i),4==++r?t:o):null===i||i<0?t(i):n(i)}},partial:!0}},5435:(e,t,n)=>{"use strict";var r=n(1073),o=n(5524);e.exports=function(e,t,n,i,a,u){var c;return function(t){return e.enter(i),e.enter(a),e.consume(t),e.exit(a),c=40===t?41:t,s};function s(n){return n===c?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),t):(e.enter(u),l(n))}function l(t){return t===c?(e.exit(u),s(c)):null===t?n(t):r(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(t))}function f(t){return t===c||null===t||r(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?p:f)}function p(t){return t===c||92===t?(e.consume(t),f):f(t)}}},5524:(e,t,n)=>{"use strict";var r=n(5009);e.exports=function(e,t,n,o){var i=o?o-1:1/0,a=0;return function(o){return r(o)?(e.enter(n),u(o)):t(o)};function u(o){return r(o)&&a++<i?(e.consume(o),u):(e.exit(n),t(o))}}},5610:(e,t,n)=>{"use strict";var r=n(1073),o=n(4056),i=n(9790),a=n(5524),u={name:"codeFenced",tokenize:function(e,t,n){var u,c=this,s={tokenize:function(e,t,n){var o=0;return a(e,(function(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),i(t)}),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function i(t){return t===u?(e.consume(t),o++,i):o<f?n(t):(e.exit("codeFencedFenceSequence"),a(e,c,"whitespace")(t))}function c(o){return null===o||r(o)?(e.exit("codeFencedFence"),t(o)):n(o)}},partial:!0},l=i(this.events,"linePrefix"),f=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u=t,p(t)};function p(t){return t===u?(e.consume(t),f++,p):(e.exit("codeFencedFenceSequence"),f<3?n(t):a(e,d,"whitespace")(t))}function d(t){return null===t||r(t)?v(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||o(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),a(e,m,"whitespace")(t)):96===t&&t===u?n(t):(e.consume(t),h)}function m(t){return null===t||r(t)?v(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(t))}function g(t){return null===t||r(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(t)):96===t&&t===u?n(t):(e.consume(t),g)}function v(n){return e.exit("codeFencedFence"),c.interrupt?t(n):x(n)}function x(t){return null===t?k(t):r(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),e.attempt(s,k,l?a(e,x,"linePrefix",l+1):x)):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||r(t)?(e.exit("codeFlowValue"),x(t)):(e.consume(t),y)}function k(n){return e.exit("codeFenced"),t(n)}},concrete:!0};e.exports=u},5611:(e,t,n)=>{e.exports=function(e,t){return t.options.setext&&(!e.depth||e.depth<3)&&r(e)};var r=n(9027)},5815:(e,t,n)=>{"use strict";e.exports=function(e){var t=this;this.Parser=function(n){return r(n,Object.assign({},t.data("settings"),e,{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}};var r=n(6064)},5848:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4952),o=n(5524),i=n(7774);t.tokenize=function(e){var t=this,n=e.attempt(i,(function(r){if(null!==r)return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n;e.consume(r)}),e.attempt(this.parser.constructs.flowInitial,a,o(e,e.attempt(this.parser.constructs.flow,a,e.attempt(r,a)),"linePrefix")));return n;function a(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}},5885:(e,t)=>{"use strict";t.cwd=function(){return"/"}},5943:(e,t,n)=>{e.exports=function(e,t){var n=r(e);return!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url)};var r=n(9027)},5969:e=>{function t(e,t,n){var r;if(!t)return n;for("string"==typeof t&&(t=[t]),r=-1;++r<t.length;)if(-1!==e.indexOf(t[r]))return!0;return!1}e.exports=function(e,n){return t(e,n.inConstruct,!0)&&!t(e,n.notInConstruct)}},6047:e=>{e.exports={wrap:(e,...t)=>[...t,e,...t.reverse()].join(""),isURL(e){try{return Boolean(new URL(e))}catch(e){return!1}},isPotentiallyEncoded:e=>e!==decodeURIComponent(e||"")}},6064:(e,t,n)=>{"use strict";e.exports=n(2849)},6109:(e,t,n)=>{"use strict";var r=n(9653);e.exports=function(e,t){return e.length?(r(e,e.length,0,t),e):t}},6310:e=>{"use strict";e.exports=function(e){return null==e?[]:"length"in e?e:[e]}},6311:(e,t,n)=>{"use strict";e.exports=c;var r=n(2143),o=n(4718),i=!0,a="skip",u=!1;function c(e,t,n,c){var s,l;"function"==typeof t&&"function"!=typeof n&&(c=n,n=t,t=null),l=r(t),s=c?-1:1,function e(r,f,p){var d,h="object"==typeof r&&null!==r?r:{};return"string"==typeof h.type&&(d="string"==typeof h.tagName?h.tagName:"string"==typeof h.name?h.name:void 0,m.displayName="node ("+o(h.type+(d?"<"+d+">":""))+")"),m;function m(){var o,d,h=p.concat(r),m=[];if((!t||l(r,f,p[p.length-1]||null))&&(m=function(e){return null!==e&&"object"==typeof e&&"length"in e?e:"number"==typeof e?[i,e]:[e]}(n(r,p)),m[0]===u))return m;if(r.children&&m[0]!==a)for(d=(c?r.children.length:-1)+s;d>-1&&d<r.children.length;){if((o=e(r.children[d],d,h)())[0]===u)return o;d="number"==typeof o[1]?o[1]:d+s}return m}}(e,null,[])()}c.CONTINUE=i,c.SKIP=a,c.EXIT=u},6368:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},6429:(e,t,n)=>{"use strict";var r=n(9098)(/[!-/:-@[-`{-~]/);e.exports=r},6495:e=>{e.exports=function e(t,n){var r,o=-1;if(n.extensions)for(;++o<n.extensions.length;)e(t,n.extensions[o]);for(r in n)"extensions"===r||("unsafe"===r||"join"===r?t[r]=t[r].concat(n[r]||[]):"handlers"===r?t[r]=Object.assign(t[r],n[r]||{}):t.options[r]=n[r]);return t}},6496:(e,t,n)=>{e.exports=function(e,t,n){var a,u,c,s,l=Math.max(Math.min(6,e.depth||1),1);return o(e,n)?(a=n.enter("headingSetext"),u=n.enter("phrasing"),c=i(e,n,{before:"\n",after:"\n"}),u(),a(),c+"\n"+r(1===l?"=":"-",c.length-(Math.max(c.lastIndexOf("\r"),c.lastIndexOf("\n"))+1))):(s=r("#",l),a=n.enter("headingAtx"),u=n.enter("phrasing"),c=(c=i(e,n,{before:"# ",after:"\n"}))?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),u(),a(),c)};var r=n(5208),o=n(5611),i=n(8886)},6582:(e,t,n)=>{"use strict";var r=n(1073),o=n(9653),i=n(9790),a=n(5524),u={name:"codeIndented",tokenize:function(e,t,n){return e.attempt(c,o,n);function o(n){return null===n?t(n):r(n)?e.attempt(c,o,t)(n):(e.enter("codeFlowValue"),i(n))}function i(t){return null===t||r(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),i)}},resolve:function(e,t){var n={type:"codeIndented",start:e[0][1].start,end:e[e.length-1][1].end};return o(e,0,0,[["enter",n,t]]),o(e,e.length,0,[["exit",n,t]]),e}},c={tokenize:function(e,t,n){var o=this;return a(e,(function u(c){return r(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),a(e,u,"linePrefix",5)):i(o.events,"linePrefix")<4?n(c):t(c)}),"linePrefix",5)},partial:!0};e.exports=u},6611:(e,t,n)=>{"use strict";var r=n(4056),o=n(6109),i=n(9653),a=n(1303),u=n(1154),c=n(4896),s=n(9658),l=n(8488),f=n(5435),p=n(9565),d={name:"labelEnd",tokenize:function(e,t,n){for(var r,o,i=this,u=i.events.length;u--;)if(("labelImage"===i.events[u][1].type||"labelLink"===i.events[u][1].type)&&!i.events[u][1]._balanced){r=i.events[u][1];break}return function(t){return r?r._inactive?s(t):(o=i.parser.defined.indexOf(a(i.sliceSerialize({start:r.end,end:i.now()})))>-1,e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),c):n(t)};function c(n){return 40===n?e.attempt(h,t,o?t:s)(n):91===n?e.attempt(m,t,o?e.attempt(g,t,s):s)(n):o?t(n):s(n)}function s(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){for(var n,r,a,s,l,f,p,d=e.length,h=0;d--;)if(s=e[d][1],l){if("link"===s.type||"labelLink"===s.type&&s._inactive)break;"enter"===e[d][0]&&"labelLink"===s.type&&(s._inactive=!0)}else if(f){if("enter"===e[d][0]&&("labelImage"===s.type||"labelLink"===s.type)&&!s._balanced&&(l=d,"labelLink"!==s.type)){h=2;break}}else"labelEnd"===s.type&&(f=d);return n={type:"labelLink"===e[l][1].type?"link":"image",start:c(e[l][1].start),end:c(e[e.length-1][1].end)},r={type:"label",start:c(e[l][1].start),end:c(e[f][1].end)},a={type:"labelText",start:c(e[l+h+2][1].end),end:c(e[f-2][1].start)},p=o(p=[["enter",n,t],["enter",r,t]],e.slice(l+1,l+h+3)),p=o(p,[["enter",a,t]]),p=o(p,u(t.parser.constructs.insideSpan.null,e.slice(l+h+4,f-3),t)),p=o(p,[["exit",a,t],e[f-2],e[f-1],["exit",r,t]]),p=o(p,e.slice(f+1)),p=o(p,[["exit",n,t]]),i(e,l,e.length,p),e},resolveAll:function(e){for(var t,n=-1;++n<e.length;)(t=e[n][1])._used||"labelImage"!==t.type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},h={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),p(e,o)};function o(t){return 41===t?u(t):s(e,i,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(t)}function i(t){return r(t)?p(e,a)(t):u(t)}function a(t){return 34===t||39===t||40===t?f(e,p(e,u),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function u(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},m={tokenize:function(e,t,n){var r=this;return function(t){return l.call(r,e,o,n,"reference","referenceMarker","referenceString")(t)};function o(e){return r.parser.defined.indexOf(a(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))<0?n(e):t(e)}}},g={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};e.exports=d},6655:(e,t,n)=>{e.exports=n(668)},6731:e=>{"use strict";var t={}.hasOwnProperty;function n(e){return e&&"object"==typeof e||(e={}),o(e.line)+":"+o(e.column)}function r(e){return e&&"object"==typeof e||(e={}),n(e.start)+"-"+n(e.end)}function o(e){return e&&"number"==typeof e?e:1}e.exports=function(e){return e&&"object"==typeof e?t.call(e,"position")||t.call(e,"type")?r(e.position):t.call(e,"start")||t.call(e,"end")?r(e):t.call(e,"line")||t.call(e,"column")?n(e):"":""}},6744:(e,t,n)=>{"use strict";var r=n(6429),o={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),o};function o(o){return r(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}};e.exports=o},6783:(e,t,n)=>{var r=n(4056),o=n(5524),i=n(9790),a={tokenize:function(e,t,n){var r=this;return function(t){return 91===t&&null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),o):n(t)};function o(t){return-2===t||32===t?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),i):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),i):n(t)}function i(r){return 93===r?(e.enter("taskListCheckMarker"),e.consume(r),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),e.check({tokenize:u},t,n)):n(r)}}};function u(e,t,n){var a=this;return o(e,(function(e){return i(a.events,"whitespace")&&null!==e&&!r(e)?t(e):n(e)}),"whitespace")}t.text={91:a}},6815:(e,t,n)=>{"use strict";var r=n(6109),o=n(9653),i=n(8914),a=n(4728),u=n(1154),c=n(4896),s={name:"attention",tokenize:function(e,t){var n,r=i(this.previous);return function(t){return e.enter("attentionSequence"),n=t,o(t)};function o(a){var u,c,s,l;return a===n?(e.consume(a),o):(u=e.exit("attentionSequence"),s=!(c=i(a))||2===c&&r,l=!r||2===r&&c,u._open=42===n?s:s&&(r||!l),u._close=42===n?l:l&&(c||!s),t(a))}},resolveAll:function(e,t){for(var n,i,s,l,f,p,d,h,m=-1;++m<e.length;)if("enter"===e[m][0]&&"attentionSequence"===e[m][1].type&&e[m][1]._close)for(n=m;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[m][1]).charCodeAt(0)){if((e[n][1]._close||e[m][1]._open)&&(e[m][1].end.offset-e[m][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[m][1].end.offset-e[m][1].start.offset)%3))continue;l={type:(p=e[n][1].end.offset-e[n][1].start.offset>1&&e[m][1].end.offset-e[m][1].start.offset>1?2:1)>1?"strongSequence":"emphasisSequence",start:a(c(e[n][1].end),-p),end:c(e[n][1].end)},f={type:p>1?"strongSequence":"emphasisSequence",start:c(e[m][1].start),end:a(c(e[m][1].start),p)},s={type:p>1?"strongText":"emphasisText",start:c(e[n][1].end),end:c(e[m][1].start)},i={type:p>1?"strong":"emphasis",start:c(l.start),end:c(f.end)},e[n][1].end=c(l.start),e[m][1].start=c(f.end),d=[],e[n][1].end.offset-e[n][1].start.offset&&(d=r(d,[["enter",e[n][1],t],["exit",e[n][1],t]])),d=r(d,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",s,t]]),d=r(d,u(t.parser.constructs.insideSpan.null,e.slice(n+1,m),t)),d=r(d,[["exit",s,t],["enter",f,t],["exit",f,t],["exit",i,t]]),e[m][1].end.offset-e[m][1].start.offset?(h=2,d=r(d,[["enter",e[m][1],t],["exit",e[m][1],t]])):h=0,o(e,n-1,m-n+3,d),m=n+d.length-h-2;break}for(m=-1;++m<e.length;)"attentionSequence"===e[m][1].type&&(e[m][1].type="data");return e}};e.exports=s},6848:(e,t,n)=>{"use strict";var r=n(2143);e.exports=function(e,t,n){var o=r(n||t),i=null==t.cascade||t.cascade;return function e(t,n,r){var a=t.children,u=-1,c=0;if(o(t,n,r))return null;if(a&&a.length){for(;++u<a.length;)e(a[u],u,t)&&(a[c++]=a[u]);if(i&&!c)return null;a.length=c}return t}(e,null,null)}},6891:e=>{"use strict";var t=Object.assign;e.exports=t},7053:e=>{e.exports=function(e){var t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}},7110:e=>{"use strict";e.exports=function(e,t){var n,r,o=0,i=0;if("string"!=typeof t||1!==t.length)throw new Error("Expected character");for(n=r=(e=String(e)).indexOf(t);-1!==r;)o++,r===n?o>i&&(i=o):o=1,n=r+1,r=e.indexOf(t,n);return i}},7182:(e,t,n)=>{var r=n(8886),o=n(3911),i=n(1717);e.exports=function(e){var t=e||{},n=t.tableCellPadding,a=t.tablePipeAlign,u=t.stringLength,c=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(e,t,n){return l(function(e,t){for(var n=e.children,r=-1,o=n.length,i=[],a=t.enter("table");++r<o;)i[r]=f(n[r],t);return a(),i}(e,n),e.align)},tableRow:function(e,t,n){var r=l([f(e,n)]);return r.slice(0,r.indexOf("\n"))},tableCell:s,inlineCode:function(e,t,n){var r=o(e,t,n);return-1!==n.stack.indexOf("tableCell")&&(r=r.replace(/\|/g,"\\$&")),r}}};function s(e,t,n){var o=n.enter("tableCell"),i=r(e,n,{before:c,after:c});return o(),i}function l(e,t){return i(e,{align:t,alignDelimiters:a,padding:n,stringLength:u})}function f(e,t){for(var n=e.children,r=-1,o=n.length,i=[],a=t.enter("tableRow");++r<o;)i[r]=s(n[r],0,t);return a(),i}}},7192:(e,t,n)=>{"use strict";var r=n(7227);e.exports=function(e){for(;!r(e););return e}},7206:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},7227:(e,t,n)=>{"use strict";var r=n(6891),o=n(9653),i=n(4896);function a(e,t){for(var n,r,i,a,u,c,s=e[t][1],l=e[t][2],f=t-1,p=[],d=s._tokenizer||l.parser[s.contentType](s.start),h=d.events,m=[],g={};s;){for(;e[++f][1]!==s;);p.push(f),s._tokenizer||(n=l.sliceStream(s),s.next||n.push(null),r&&d.defineSkip(s.start),s.isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(n),s.isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),r=s,s=s.next}for(s=r,i=h.length;i--;)"enter"===h[i][0]?a=!0:a&&h[i][1].type===h[i-1][1].type&&h[i][1].start.line!==h[i][1].end.line&&(v(h.slice(i+1,u)),s._tokenizer=s.next=void 0,s=s.previous,u=i+1);for(d.events=s._tokenizer=s.next=void 0,v(h.slice(0,u)),i=-1,c=0;++i<m.length;)g[c+m[i][0]]=c+m[i][1],c+=m[i][1]-m[i][0]-1;return g;function v(t){var n=p.pop();m.unshift([n,n+t.length-1]),o(e,n,2,t)}}e.exports=function(e){for(var t,n,u,c,s,l,f,p={},d=-1;++d<e.length;){for(;d in p;)d=p[d];if(t=e[d],d&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[d-1][1].type&&((u=0)<(l=t[1]._tokenizer.events).length&&"lineEndingBlank"===l[u][1].type&&(u+=2),u<l.length&&"content"===l[u][1].type))for(;++u<l.length&&"content"!==l[u][1].type;)"chunkText"===l[u][1].type&&(l[u][1].isInFirstContentOfListItem=!0,u++);if("enter"===t[0])t[1].contentType&&(r(p,a(e,d)),d=p[d],f=!0);else if(t[1]._container||t[1]._movePreviousLineEndings){for(u=d,n=void 0;u--&&("lineEnding"===(c=e[u])[1].type||"lineEndingBlank"===c[1].type);)"enter"===c[0]&&(n&&(e[n][1].type="lineEndingBlank"),c[1].type="lineEnding",n=u);n&&(t[1].end=i(e[n][1].start),(s=e.slice(n,d)).unshift(t),o(e,n,d-n+1,s))}}return!f}},7301:(e,t,n)=>{"use strict";var r=n(8385),o=n(7206),i=n(5230),a=n(6368),u=n(7412),c=n(1459);e.exports=function e(){var t,n=[],o=u(),x={},y=-1;return k.data=function(e,n){return"string"==typeof e?2===arguments.length?(m("data",t),x[e]=n,k):l.call(x,e)&&x[e]||null:e?(m("data",t),x=e,k):x},k.freeze=b,k.attachers=n,k.use=function(e){var r;if(m("use",t),null==e);else if("function"==typeof e)l.apply(null,arguments);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?c(e):o(e)}return r&&(x.settings=i(x.settings||{},r)),k;function o(e){c(e.plugins),e.settings&&(r=i(r||{},e.settings))}function u(e){if("function"==typeof e)l(e);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?l.apply(null,e):o(e)}}function c(e){var t=-1;if(null==e);else{if("object"!=typeof e||!("length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;)u(e[t])}}function l(e,t){var r=function(e){for(var t=-1;++t<n.length;)if(n[t][0]===e)return n[t]}(e);r?(a(r[1])&&a(t)&&(t=i(!0,r[1],t)),r[1]=t):n.push(s.call(arguments))}},k.parse=function(e){var t,n=c(e);return b(),d("parse",t=k.Parser),p(t,"parse")?new t(String(n),n).parse():t(String(n),n)},k.stringify=function(e,t){var n,r=c(t);return b(),h("stringify",n=k.Compiler),g(e),p(n,"compile")?new n(e,r).compile():n(e,r)},k.run=E,k.runSync=function(e,t){var n,o;return E(e,t,(function(e,t){o=!0,n=t,r(e)})),v("runSync","run",o),n},k.process=C,k.processSync=function(e){var t,n;return b(),d("processSync",k.Parser),h("processSync",k.Compiler),C(t=c(e),(function(e){n=!0,r(e)})),v("processSync","process",n),t},k;function k(){for(var t=e(),r=-1;++r<n.length;)t.use.apply(null,n[r]);return t.data(i(!0,{},x)),t}function b(){var e,r;if(t)return k;for(;++y<n.length;)!1!==(e=n[y])[1]&&(!0===e[1]&&(e[1]=void 0),"function"==typeof(r=e[0].apply(k,e.slice(1)))&&o.use(r));return t=!0,y=1/0,k}function E(e,t,n){if(g(e),b(),n||"function"!=typeof t||(n=t,t=null),!n)return new Promise(r);function r(r,i){o.run(e,c(t),(function(t,o,a){o=o||e,t?i(t):r?r(o):n(null,o,a)}))}r(null,n)}function C(e,t){if(b(),d("process",k.Parser),h("process",k.Compiler),!t)return new Promise(n);function n(n,r){var o=c(e);f.run(k,{file:o},(function(e){e?r(e):n?n(o):t(null,o)}))}n(null,t)}}().freeze();var s=[].slice,l={}.hasOwnProperty,f=u().use((function(e,t){t.tree=e.parse(t.file)})).use((function(e,t,n){e.run(t.tree,t.file,(function(e,r,o){e?n(e):(t.tree=r,t.file=o,n())}))})).use((function(e,t){var n=e.stringify(t.tree,t.file);null==n||("string"==typeof n||o(n)?("value"in t.file&&(t.file.value=n),t.file.contents=n):t.file.result=n)}));function p(e,t){return"function"==typeof e&&e.prototype&&(function(e){var t;for(t in e)return!0;return!1}(e.prototype)||t in e.prototype)}function d(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function h(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function m(e,t){if(t)throw new Error("Cannot invoke `"+e+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function g(e){if(!e||"string"!=typeof e.type)throw new Error("Expected node, got `"+e+"`")}function v(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},7325:e=>{"use strict";var t=String.fromCharCode;e.exports=t},7331:(e,t,n)=>{"use strict";var r=n(1069),o=n(972);e.exports=o,o.prototype.message=function(e,t,n){var o=new r(e,t,n);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o},o.prototype.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},o.prototype.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e}},7412:(e,t,n)=>{"use strict";var r=n(3418);e.exports=i,i.wrap=r;var o=[].slice;function i(){var e=[],t={run:function(){var t=-1,n=o.call(arguments,0,-1),i=arguments[arguments.length-1];if("function"!=typeof i)throw new Error("Expected function as last argument, not "+i);(function a(u){var c=e[++t],s=o.call(arguments,0).slice(1),l=n.length,f=-1;if(u)i(u);else{for(;++f<l;)null!==s[f]&&void 0!==s[f]||(s[f]=n[f]);n=s,c?r(c,a).apply(null,n):i.apply(null,[null].concat(n))}}).apply(null,[null].concat(n))},use:function(n){if("function"!=typeof n)throw new Error("Expected `fn` to be a function, not "+n);return e.push(n),t}};return t}},7465:e=>{"use strict";e.exports=function(e,t){var n,r=String(e),o=0;if("string"!=typeof t)throw new Error("Expected character");for(n=r.indexOf(t);-1!==n;)o++,n=r.indexOf(t,n+t.length);return o}},7774:(e,t,n)=>{"use strict";var r=n(1073),o=n(5524),i={tokenize:function(e,t,n){return o(e,(function(e){return null===e||r(e)?t(e):n(e)}),"linePrefix")},partial:!0};e.exports=i},7776:(e,t,n)=>{"use strict";var r,o=n(9567),i=n(4460),a=n(2523);e.exports=function(e){var t=this.data();function n(e,n){t[e]?t[e].push(n):t[e]=[n]}!r&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(r=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",o(e)),n("fromMarkdownExtensions",i),n("toMarkdownExtensions",a(e))}},7816:(e,t,n)=>{var r=n(3694);t.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}],t.handlers={listItem:function(e,t,n){var o=r(e,t,n),i=e.children[0];return"boolean"==typeof e.checked&&i&&"paragraph"===i.type&&(o=o.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(t){return t+"["+(e.checked?"x":" ")+"] "}))),o}}},7871:(e,t,n)=>{e.exports=i,i.peek=function(e,t,n){return n.options.strong||"*"};var r=n(986),o=n(8886);function i(e,t,n){var i=r(n),a=n.enter("strong"),u=o(e,n,{before:i,after:i});return a(),i+i+u+i+i}},7983:(e,t,n)=>{"use strict";var r={name:"labelStartLink",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o};function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:n(6611).resolveAll};e.exports=r},8008:e=>{"use strict";e.exports=function(e,r){var o=r||{};function i(r){var o=i.invalid,a=i.handlers;return r&&n.call(r,e)&&(o=n.call(a,r[e])?a[r[e]]:i.unknown),(o||t).apply(this,arguments)}return i.handlers=o.handlers||{},i.invalid=o.invalid,i.unknown=o.unknown,i};var t=Function.prototype,n={}.hasOwnProperty},8032:(e,t,n)=>{"use strict";var r=n(1073),o=n(4056),i=n(1303),a=n(9658),u=n(8488),c=n(5524),s=n(9565),l=n(5435),f={name:"definition",tokenize:function(e,t,n){var o,l=this;return function(t){return e.enter("definition"),u.call(l,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function f(t){return o=i(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s(e,a(e,e.attempt(p,c(e,d,"whitespace"),c(e,d,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function d(i){return null===i||r(i)?(e.exit("definition"),l.parser.defined.indexOf(o)<0&&l.parser.defined.push(o),t(i)):n(i)}}},p={tokenize:function(e,t,n){return function(t){return o(t)?s(e,i)(t):n(t)};function i(t){return 34===t||39===t||40===t?l(e,c(e,a,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function a(e){return null===e||r(e)?t(e):n(e)}},partial:!0};e.exports=f},8061:(e,t,n)=>{var r=n(8886);function o(e,t,n){var o=n.enter("emphasis"),i=r(e,n,{before:"~",after:"~"});return o(),"~~"+i+"~~"}t.unsafe=[{character:"~",inConstruct:"phrasing"}],t.handlers={delete:o},o.peek=function(){return"~"}},8085:(e,t,n)=>{e.exports=function(e,t,n){var a=o(n),u='"'===a?"Quote":"Apostrophe",c=n.enter("definition"),s=n.enter("label"),l="["+i(n,r(e),{before:"[",after:"]"})+"]: ";return s(),!e.url||/[ \t\r\n]/.test(e.url)?(s=n.enter("destinationLiteral"),l+="<"+i(n,e.url,{before:"<",after:">"})+">"):(s=n.enter("destinationRaw"),l+=i(n,e.url,{before:" ",after:" "})),s(),e.title&&(s=n.enter("title"+u),l+=" "+a+i(n,e.title,{before:a,after:a})+a,s()),c(),l};var r=n(9611),o=n(141),i=n(1463)},8144:(e,t,n)=>{"use strict";var r=n(9098)(/[\dA-Fa-f]/);e.exports=r},8147:(e,t,n)=>{e.exports=i,i.peek=function(){return"!"};var r=n(141),o=n(1463);function i(e,t,n){var i=r(n),a='"'===i?"Quote":"Apostrophe",u=n.enter("image"),c=n.enter("label"),s="!["+o(n,e.alt,{before:"[",after:"]"})+"](";return c(),!e.url&&e.title||/[ \t\r\n]/.test(e.url)?(c=n.enter("destinationLiteral"),s+="<"+o(n,e.url,{before:"<",after:">"})+">"):(c=n.enter("destinationRaw"),s+=o(n,e.url,{before:"(",after:e.title?" ":")"})),c(),e.title&&(c=n.enter("title"+a),s+=" "+i+o(n,e.title,{before:i,after:i})+i,c()),s+=")",u(),s}},8172:e=>{e.exports=function(e){var t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}},8177:(e,t,n)=>{"use strict";var r=n(9098)(/[A-Za-z]/);e.exports=r},8199:(e,t,n)=>{e.exports=n(254)},8317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1073),o=n(5524),i=n(7774),a={tokenize:function(e,t,n){return o(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},u={tokenize:function(e,t,n){return o(e,e.lazy(this.parser.constructs.flow,t,n),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}};t.tokenize=function(e){var t,n,o,c=this,s=[],l=0,f={tokenize:function(e,r){var o=0;return t={},l;function l(r){return o<s.length?(c.containerState=s[o][1],e.attempt(s[o][0].continuation,f,p)(r)):n.currentConstruct&&n.currentConstruct.concrete?(t.flowContinue=!0,m(r)):(c.interrupt=n.currentConstruct&&n.currentConstruct.interruptible,c.containerState={},e.attempt(a,h,m)(r))}function f(e){return o++,c.containerState._closeFlow?h(e):l(e)}function p(t){return n.currentConstruct&&n.currentConstruct.lazy?(c.containerState={},e.attempt(a,h,e.attempt(u,h,e.check(i,h,d)))(t)):h(t)}function d(e){return o=s.length,t.lazy=!0,t.flowContinue=!0,m(e)}function h(e){return t.flowEnd=!0,m(e)}function m(e){return t.continued=o,c.interrupt=c.containerState=void 0,r(e)}},partial:!0};return p;function p(t){return l<s.length?(c.containerState=s[l][1],e.attempt(s[l][0].continuation,d,h)(t)):h(t)}function d(e){return l++,p(e)}function h(r){return t&&t.flowContinue?g(r):(c.interrupt=n&&n.currentConstruct&&n.currentConstruct.interruptible,c.containerState={},e.attempt(a,m,g)(r))}function m(e){return s.push([c.currentConstruct,c.containerState]),c.containerState=void 0,h(e)}function g(t){return null===t?(k(0,!0),void e.consume(t)):(n=n||c.parser.flow(c.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:n}),v(t))}function v(t){return null===t?(y(e.exit("chunkFlow")),g(t)):r(t)?(e.consume(t),y(e.exit("chunkFlow")),e.check(f,x)):(e.consume(t),v)}function x(e){return k(t.continued,t&&t.flowEnd),l=0,p(e)}function y(e){o&&(o.next=e),o=e,n.lazy=t&&t.lazy,n.defineSkip(e.start),n.write(c.sliceStream(e))}function k(t,r){var i=s.length;for(n&&r&&(n.write([null]),o=n=void 0);i-- >t;)c.containerState=s[i][1],s[i][0].exit.call(c,e);s.length=t}}},8359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6891),o=n(4896),i=c("text"),a=c("string"),u={resolveAll:s()};function c(e){return{tokenize:function(t){var n=this,r=this.parser.constructs[e],o=t.attempt(r,i,a);return i;function i(e){return c(e)?o(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),u;t.consume(e)}function u(e){return c(e)?(t.exit("data"),o(e)):(t.consume(e),u)}function c(e){var t=r[e],o=-1;if(null===e)return!0;if(t)for(;++o<t.length;)if(!t[o].previous||t[o].previous.call(n,n.previous))return!0}},resolveAll:s("text"===e?l:void 0)}}function s(e){return function(t,n){for(var r,o=-1;++o<=t.length;)void 0===r?t[o]&&"data"===t[o][1].type&&(r=o,o++):t[o]&&"data"===t[o][1].type||(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(t,n):t}}function l(e,t){for(var n,i,a,u,c,s,l,f,p=-1;++p<=e.length;)if((p===e.length||"lineEnding"===e[p][1].type)&&"data"===e[p-1][1].type){for(i=e[p-1][1],u=(n=t.sliceStream(i)).length,c=-1,s=0,l=void 0;u--;)if("string"==typeof(a=n[u])){for(c=a.length;32===a.charCodeAt(c-1);)s++,c--;if(c)break;c=-1}else if(-2===a)l=!0,s++;else if(-1!==a){u++;break}s&&(f={type:p===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-s,offset:i.end.offset-s,_index:i.start._index+u,_bufferIndex:u?c:i.start._bufferIndex+c},end:o(i.end)},i.end=o(f.start),i.start.offset===i.end.offset?r(i,f):(e.splice(p,0,["enter",f,t],["exit",f,t]),p+=2)),p++}return e}t.resolver=u,t.string=a,t.text=i},8385:e=>{"use strict";e.exports=function(e){if(e)throw e}},8488:(e,t,n)=>{"use strict";var r=n(1073),o=n(5009);e.exports=function(e,t,n,i,a,u){var c,s=this,l=0;return function(t){return e.enter(i),e.enter(a),e.consume(t),e.exit(a),e.enter(u),f};function f(o){return null===o||91===o||93===o&&!c||94===o&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs||l>999?n(o):93===o?(e.exit(u),e.enter(a),e.consume(o),e.exit(a),e.exit(i),t):r(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(o))}function p(t){return null===t||91===t||93===t||r(t)||l++>999?(e.exit("chunkString"),f(t)):(e.consume(t),c=c||!o(t),92===t?d:p)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,p):p(t)}}},8674:e=>{e.exports=function(e){var t,n;return e._compiled||(t=e.before?"(?:"+e.before+")":"",n=e.after?"(?:"+e.after+")":"",e.atBreak&&(t="[\\r\\n][\\t ]*"+t),e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(n||""),"g")),e._compiled}},8758:(e,t,n)=>{"use strict";var r=n(6891),o=n(1073),i=n(6109),a=n(9653),u=n(6310),c=n(1154),s=n(1129),l=n(4896),f=n(2321);e.exports=function(e,t,n){var p=n?l(n):{line:1,column:1,offset:0},d={},h=[],m=[],g=[],v={consume:function(e){o(e)?(p.line++,p.column=1,p.offset+=-3===e?2:1,S()):-1!==e&&(p.column++,p.offset++),p._bufferIndex<0?p._index++:(p._bufferIndex++,p._bufferIndex===m[p._index].length&&(p._bufferIndex=-1,p._index++)),x.previous=e},enter:function(e,t){var n=t||{};return n.type=e,n.start=b(),x.events.push(["enter",n,x]),g.push(n),n},exit:function(e){var t=g.pop();return t.end=b(),x.events.push(["exit",t,x]),t},attempt:w((function(e,t){L(e,t.from)})),check:w(C),interrupt:w(C,{interrupt:!0}),lazy:w(C,{lazy:!0})},x={previous:null,events:[],parser:e,sliceStream:k,sliceSerialize:function(e){return s(k(e))},now:b,defineSkip:function(e){d[e.line]=e.column,S()},write:function(e){return m=i(m,e),function(){for(var e,t;p._index<m.length;)if("string"==typeof(t=m[p._index]))for(e=p._index,p._bufferIndex<0&&(p._bufferIndex=0);p._index===e&&p._bufferIndex<t.length;)E(t.charCodeAt(p._bufferIndex));else E(t)}(),null!==m[m.length-1]?[]:(L(t,0),x.events=c(h,x.events,x),x.events)}},y=t.tokenize.call(x,v);return t.resolveAll&&h.push(t),p._index=0,p._bufferIndex=-1,x;function k(e){return f(m,e)}function b(){return l(p)}function E(e){y=y(e)}function C(e,t){t.restore()}function w(e,t){return function(n,o,i){var a,c,s,l;return n.tokenize||"length"in n?f(u(n)):function(e){return e in n||null in n?f(n.null?u(n[e]).concat(u(n.null)):n[e])(e):i(e)};function f(e){return a=e,d(e[c=0])}function d(e){return function(n){var o,i,a,u,c;return o=b(),i=x.previous,a=x.currentConstruct,u=x.events.length,c=Array.from(g),l={restore:function(){p=o,x.previous=i,x.currentConstruct=a,x.events.length=u,g=c,S()},from:u},s=e,e.partial||(x.currentConstruct=e),e.name&&x.parser.constructs.disable.null.indexOf(e.name)>-1?m():e.tokenize.call(t?r({},x,t):x,v,h,m)(n)}}function h(t){return e(s,l),o}function m(e){return l.restore(),++c<a.length?d(a[c]):i}}}function L(e,t){e.resolveAll&&h.indexOf(e)<0&&h.push(e),e.resolve&&a(x.events,t,x.events.length-t,e.resolve(x.events.slice(t),x)),e.resolveTo&&(x.events=e.resolveTo(x.events,x))}function S(){p.line in d&&p.column<2&&(p.column=d[p.line],p.offset+=d[p.line]-1)}}},8789:(e,t,n)=>{"use strict";var r=n(1073),o=n(4056),i=n(5009),a=n(9653),u=n(5524),c={name:"headingAtx",tokenize:function(e,t,n){var a=this,c=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),s(t)};function s(r){return 35===r&&c++<6?(e.consume(r),s):null===r||o(r)?(e.exit("atxHeadingSequence"),a.interrupt?t(r):l(r)):n(r)}function l(n){return 35===n?(e.enter("atxHeadingSequence"),f(n)):null===n||r(n)?(e.exit("atxHeading"),t(n)):i(n)?u(e,l,"whitespace")(n):(e.enter("atxHeadingText"),p(n))}function f(t){return 35===t?(e.consume(t),f):(e.exit("atxHeadingSequence"),l(t))}function p(t){return null===t||35===t||o(t)?(e.exit("atxHeadingText"),l(t)):(e.consume(t),p)}},resolve:function(e,t){var n,r,o=e.length-2,i=3;return"whitespace"===e[i][1].type&&(i+=2),o-2>i&&"whitespace"===e[o][1].type&&(o-=2),"atxHeadingSequence"===e[o][1].type&&(i===o-1||o-4>i&&"whitespace"===e[o-2][1].type)&&(o-=i+1===o?2:4),o>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[o][1].end},r={type:"chunkText",start:e[i][1].start,end:e[o][1].end,contentType:"text"},a(e,i,o-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e}};e.exports=c},8806:(e,t,n)=>{"use strict";var r=n(1073),o={name:"codeText",tokenize:function(e,t,n){var o,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),u(t)};function u(t){return 96===t?(e.consume(t),a++,u):(e.exit("codeTextSequence"),c(t))}function c(t){return null===t?n(t):96===t?(i=e.enter("codeTextSequence"),o=0,l(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),c):r(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),c):(e.enter("codeTextData"),s(t))}function s(t){return null===t||32===t||96===t||r(t)?(e.exit("codeTextData"),c(t)):(e.consume(t),s)}function l(n){return 96===n?(e.consume(n),o++,l):o===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",s(n))}},resolve:function(e){var t,n,r=e.length-4,o=3;if(!("lineEnding"!==e[o][1].type&&"space"!==e[o][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=o;++t<r;)if("codeTextData"===e[t][1].type){e[r][1].type=e[o][1].type="codeTextPadding",o+=2,r-=2;break}for(t=o-1,r++;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};e.exports=o},8836:(e,t,n)=>{"use strict";var r=n(1073),o={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),o};function o(o){return r(o)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(o)):n(o)}}};e.exports=o},8886:e=>{e.exports=function(e,t,n){for(var r,o,i,a=e.children||[],u=[],c=-1,s=n.before;++c<a.length;)i=a[c],c+1<a.length?((o=t.handle.handlers[a[c+1].type])&&o.peek&&(o=o.peek),r=o?o(a[c+1],e,t,{before:"",after:""}).charAt(0):""):r=n.after,u.length>0&&("\r"===s||"\n"===s)&&"html"===i.type&&(u[u.length-1]=u[u.length-1].replace(/(\r?\n|\r)$/," "),s=" "),u.push(t.handle(i,e,t,{before:s,after:r})),s=u[u.length-1].slice(-1);return u.join("")}},8914:(e,t,n)=>{"use strict";var r=n(4056),o=n(3061),i=n(4012);e.exports=function(e){return null===e||r(e)||i(e)?1:o(e)?2:void 0}},9027:e=>{"use strict";function t(e){return e&&(e.value||e.alt||e.title||"children"in e&&n(e.children)||"length"in e&&n(e))||""}function n(e){for(var n=[],r=-1;++r<e.length;)n[r]=t(e[r]);return n.join("")}e.exports=t},9031:(e,t,n)=>{e.exports=function(e,t,n,o){return r(n,e.value,o)};var r=n(1463)},9061:e=>{"use strict";var t=/[\0\t\n\r]/g;e.exports=function(){var e,n=!0,r=1,o="";return function(i,a,u){var c,s,l,f,p,d=[];for(i=o+i.toString(a),l=0,o="",n&&(65279===i.charCodeAt(0)&&l++,n=void 0);l<i.length;){if(t.lastIndex=l,f=(c=t.exec(i))?c.index:i.length,p=i.charCodeAt(f),!c){o=i.slice(l);break}if(10===p&&l===f&&e)d.push(-3),e=void 0;else if(e&&(d.push(-5),e=void 0),l<f&&(d.push(i.slice(l,f)),r+=f-l),0===p)d.push(65533),r++;else if(9===p)for(s=4*Math.ceil(r/4),d.push(-2);r++<s;)d.push(-1);else 10===p?(d.push(-4),r=1):(e=!0,r=1);l=f+1}return u&&(e&&d.push(-5),o&&d.push(o),d.push(null)),d}}},9086:e=>{"use strict";var t=[].splice;e.exports=t},9098:(e,t,n)=>{"use strict";var r=n(7325);e.exports=function(e){return function(t){return e.test(r(t))}}},9177:(e,t,n)=>{"use strict";var r=n(1584),o=n(5009),i=n(9790),a=n(4474),u=n(5524),c=n(7774),s=n(4104),l={name:"list",tokenize:function(e,t,n){var u=this,l=i(u.events,"linePrefix"),p=0;return function(t){var o=u.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===o?!u.containerState.marker||t===u.containerState.marker:r(t)){if(u.containerState.type||(u.containerState.type=o,e.enter(o,{_container:!0})),"listUnordered"===o)return e.enter("listItemPrefix"),42===t||45===t?e.check(s,n,h)(t):h(t);if(!u.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(t)}return n(t)};function d(t){return r(t)&&++p<10?(e.consume(t),d):(!u.interrupt||p<2)&&(u.containerState.marker?t===u.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),h(t)):n(t)}function h(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),u.containerState.marker=u.containerState.marker||t,e.check(c,u.interrupt?n:m,e.attempt(f,v,g))}function m(e){return u.containerState.initialBlankLine=!0,l++,v(e)}function g(t){return o(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),v):n(t)}function v(n){return u.containerState.size=l+a(u.sliceStream(e.exit("listItemPrefix"))),t(n)}},continuation:{tokenize:function(e,t,n){var r=this;return r.containerState._closeFlow=void 0,e.check(c,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,u(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){return r.containerState.furtherBlankLines||!o(n)?(r.containerState.furtherBlankLines=r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=r.containerState.initialBlankLine=void 0,e.attempt(p,t,i)(n))}));function i(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,u(e,e.attempt(l,t,n),"linePrefix",r.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)}},f={tokenize:function(e,t,n){var r=this;return u(e,(function(e){return o(e)||!i(r.events,"listItemPrefixWhitespace")?n(e):t(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5)},partial:!0},p={tokenize:function(e,t,n){var r=this;return u(e,(function(e){return i(r.events,"listItemIndent")===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};e.exports=l},9212:(e,t,n)=>{e.exports=function(e,t,n){var o=n.enter("list"),i=r(e,n);return o(),i};var r=n(9952)},9259:(e,t,n)=>{"use strict";var r=n(5524),o={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),r(e,t,"linePrefix")}}};e.exports=o},9358:(e,t)=>{t.canContainEols=["delete"],t.enter={strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},t.exit={strikethrough:function(e){this.exit(e)}}},9414:(e,t,n)=>{"use strict";var r=n(4360),o=n(2778),i=n(1584),a=n(8144);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=u(r),s={name:"characterReference",tokenize:function(e,t,n){var r,u,s=this,l=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),f};function f(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),p):(e.enter("characterReferenceValue"),r=31,u=o,d(t))}function p(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,u=a,d):(e.enter("characterReferenceValue"),r=7,u=i,d(t))}function d(i){var a;return 59===i&&l?(a=e.exit("characterReferenceValue"),u!==o||c.default(s.sliceSerialize(a))?(e.enter("characterReferenceMarker"),e.consume(i),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(i)):u(i)&&l++<r?(e.consume(i),d):n(i)}}};e.exports=s},9565:(e,t,n)=>{"use strict";var r=n(1073),o=n(5009),i=n(5524);e.exports=function(e,t){var n;return function a(u){return r(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),n=!0,a):o(u)?i(e,a,n?"linePrefix":"lineSuffix")(u):t(u)}}},9567:(e,t,n)=>{e.exports=n(1948)},9611:(e,t,n)=>{e.exports=function(e){return e.label||!e.identifier?e.label||"":e.identifier.replace(o,"$1").replace(i,a)};var r=n(4360),o=/\\([!-/:-@[-`{-~])/g,i=/&(#(\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function a(e,t){return r(t)||e}},9615:e=>{e.exports=function(e){var t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}},9639:(e,t,n)=>{e.exports=n(2503)},9653:(e,t,n)=>{"use strict";var r=n(9086);e.exports=function(e,t,n,o){var i,a=e.length,u=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,o.length<1e4)(i=Array.from(o)).unshift(t,n),r.apply(e,i);else for(n&&r.apply(e,[t,n]);u<o.length;)(i=o.slice(u,u+1e4)).unshift(t,0),r.apply(e,i),u+=1e4,t+=1e4}},9658:(e,t,n)=>{"use strict";var r=n(1016),o=n(4056),i=n(1073);e.exports=function(e,t,n,a,u,c,s,l,f){var p=f||1/0,d=0;return function(t){return 60===t?(e.enter(a),e.enter(u),e.enter(c),e.consume(t),e.exit(c),h):r(t)||41===t?n(t):(e.enter(a),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),v(t))};function h(n){return 62===n?(e.enter(c),e.consume(n),e.exit(c),e.exit(u),e.exit(a),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(n))}function m(t){return 62===t?(e.exit("chunkString"),e.exit(l),h(t)):null===t||60===t||i(t)?n(t):(e.consume(t),92===t?g:m)}function g(t){return 60===t||62===t||92===t?(e.consume(t),m):m(t)}function v(i){return 40===i?++d>p?n(i):(e.consume(i),v):41===i?d--?(e.consume(i),v):(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(a),t(i)):null===i||o(i)?d?n(i):(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(a),t(i)):r(i)?n(i):(e.consume(i),92===i?x:v)}function x(t){return 40===t||41===t||92===t?(e.consume(t),v):v(t)}}},9790:(e,t,n)=>{"use strict";var r=n(4474);e.exports=function(e,t){var n=e[e.length-1];return n&&n[1].type===t?r(n[2].sliceStream(n[1])):0}},9841:(e,t,n)=>{"use strict";var r=n(9098)(/[#-'*+\--9=?A-Z^-~]/);e.exports=r},9952:(e,t,n)=>{e.exports=function(e,t){for(var n,o=e.children||[],i=[],a=-1;++a<o.length;)n=o[a],i.push(t.handle(n,e,t,{before:"\n",after:"\n"})),a+1<o.length&&i.push(u(n,o[a+1]));return i.join("");function u(n,o){for(var i,a=-1;++a<t.join.length&&!0!==(i=t.join[a](n,o,e,t))&&1!==i;){if("number"==typeof i)return r("\n",1+Number(i));if(!1===i)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}};var r=n(5208)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{getSelectedElement:()=>ee,initializeHighlighter:()=>te,removeSelectionHighlight:()=>J,resetHighlightState:()=>Z});var t={};n.r(t),n.d(t,{createFloatingIcon:()=>le,initializeFloatingIcon:()=>pe,removeFloatingIcon:()=>fe});var r={};n.r(r),n.d(r,{enableChatButton:()=>Pe,hidePopup:()=>Oe,initializePopupManager:()=>Re,showPopup:()=>Fe,updatePopupContent:()=>_e});var o={};function i(e,t){return Array(t+1).join(e)}n.r(o),n.d(o,{CHAT_SYSTEM_PROMPT_TEMPLATE:()=>Ze,CHAT_TRANSLATION_REQUEST_TEMPLATE:()=>et,CHAT_USER_CONTEXT_TEMPLATE:()=>Je,DEBOUNCE_DELAY:()=>ht,DEFAULT_BULLET_COUNT_NUM:()=>ct,DEFAULT_CACHE_EXPIRY_DAYS:()=>pt,DEFAULT_DEBUG_MODE:()=>st,DEFAULT_FORMAT_INSTRUCTIONS:()=>Qe,DEFAULT_MAX_REQUEST_PRICE:()=>ft,DEFAULT_MODEL_OPTIONS:()=>tt,DEFAULT_POSTAMBLE_TEXT:()=>Xe,DEFAULT_PREAMBLE_TEMPLATE:()=>We,DEFAULT_PREPOPULATE_LANGUAGES:()=>nt,DEFAULT_SELECTED_CHAT_MODEL_ID:()=>ut,DEFAULT_SELECTED_SUMMARY_MODEL_ID:()=>at,DEFAULT_SUMMARY_HISTORY_COUNT:()=>lt,ERROR_API_KEY_INVALID:()=>Ct,ERROR_BAD_REQUEST:()=>St,ERROR_CONTENT_FILTERED:()=>Lt,ERROR_NETWORK:()=>kt,ERROR_NO_API_KEY:()=>xt,ERROR_NO_MODEL:()=>yt,ERROR_RATE_LIMIT:()=>Et,ERROR_SERVER_ERROR:()=>At,ERROR_TIMEOUT:()=>bt,ERROR_UNKNOWN:()=>wt,FALLBACK_SVG_PATH:()=>it,LANGUAGES_JSON_PATH:()=>rt,MAX_RETRIES:()=>mt,MIN_MARKDOWN_LENGTH:()=>Tt,OPENROUTER_API_URL:()=>dt,PROMPT_STORAGE_KEY_CUSTOM_FORMAT:()=>Ge,PROMPT_STORAGE_KEY_DEFAULT_FORMAT:()=>Ke,PROMPT_STORAGE_KEY_POSTAMBLE:()=>Ye,PROMPT_STORAGE_KEY_PREAMBLE:()=>Ve,REQUEST_TIMEOUT:()=>vt,RETRY_DELAY:()=>gt,STORAGE_KEY_API_KEY:()=>Ie,STORAGE_KEY_BULLET_COUNT:()=>He,STORAGE_KEY_CHAT_MODEL_ID:()=>ze,STORAGE_KEY_DEBUG:()=>Ne,STORAGE_KEY_KNOWN_MODELS_AND_PRICES:()=>$e,STORAGE_KEY_LANGUAGE_INFO:()=>je,STORAGE_KEY_MAX_REQUEST_PRICE:()=>qe,STORAGE_KEY_MODELS:()=>De,STORAGE_KEY_SUMMARY_HISTORY:()=>Ue,STORAGE_KEY_SUMMARY_MODEL_ID:()=>Be,SVG_PATH_PREFIX:()=>ot,TOKENS_PER_CHAR:()=>Mt});var a=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function u(e){return f(e,a)}var c=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function s(e){return f(e,c)}var l=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function f(e,t){return t.indexOf(e.nodeName)>=0}function p(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var d={};function h(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function m(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function g(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(v(o,t,n))return o}}function v(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function x(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function y(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}d.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},d.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},d.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&r<3?"\n\n"+e+"\n"+i(1===r?"=":"-",e.length)+"\n\n":"\n\n"+i("#",r)+" "+e+"\n\n"}},d.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},d.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},d.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",o=t.parentNode;if("OL"===o.nodeName){var i=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,t);r=(i?Number(i)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},d.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},d.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,o=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],a=t.firstChild.textContent,u=n.fence.charAt(0),c=3,s=new RegExp("^"+u+"{3,}","gm");r=s.exec(a);)r[0].length>=c&&(c=r[0].length+1);var l=i(u,c);return"\n\n"+l+o+"\n"+a.replace(/\n$/,"")+"\n"+l+"\n\n"}},d.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},d.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=h(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}},d.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,o,i=t.getAttribute("href"),a=h(t.getAttribute("title"));switch(a&&(a=' "'+a+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",o="["+e+"]: "+i+a;break;case"shortcut":r="["+e+"]",o="["+e+"]: "+i+a;break;default:var u=this.references.length+1;r="["+e+"]["+u+"]",o="["+u+"]: "+i+a}return this.references.push(o),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},d.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},d.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},d.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`";return n+t+e+t+n}},d.image={filter:"img",replacement:function(e,t){var n=h(t.getAttribute("alt")),r=t.getAttribute("src")||"",o=h(t.getAttribute("title"));return r?"!["+n+"]("+r+(o?' "'+o+'"':"")+")":""}},m.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=g(this.array,e,this.options))||(t=g(this._keep,e,this.options))||(t=g(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var k,b,E="undefined"!=typeof window?window:{},C=function(){var e=E.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?E.DOMParser:(k=function(){},function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){E.ActiveXObject&&(e=!0)}return e}()?k.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:k.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},k);function w(e,t){var n;return function(e){var t=e.element,n=e.isBlock,r=e.isVoid,o=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!o(t)){for(var i=null,a=!1,u=null,c=y(u,t,o);c!==t;){if(3===c.nodeType||4===c.nodeType){var s=c.data.replace(/[ \r\n\t]+/g," ");if(i&&!/ $/.test(i.data)||a||" "!==s[0]||(s=s.substr(1)),!s){c=x(c);continue}c.data=s,i=c}else{if(1!==c.nodeType){c=x(c);continue}n(c)||"BR"===c.nodeName?(i&&(i.data=i.data.replace(/ $/,"")),i=null,a=!1):r(c)||o(c)?(i=null,a=!0):i&&(a=!1)}var l=y(u,c,o);u=c,c=l}i&&(i.data=i.data.replace(/ $/,""),i.data||x(i))}}({element:n="string"==typeof e?(b=b||new C).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):e.cloneNode(!0),isBlock:u,isVoid:s,isPre:t.preformattedCode?L:null}),n}function L(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function S(e,t){return e.isBlock=u(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!s(e)&&!function(e){return f(e,l)}(e)&&/^\s*$/i.test(e.textContent)&&!function(e){return p(e,c)}(e)&&!function(e){return p(e,l)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n,r={leading:(n=e.textContent.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/))[1],leadingAscii:n[2],leadingNonAscii:n[3],trailing:n[4],trailingNonAscii:n[5],trailingAscii:n[6]};return r.leadingAscii&&A("left",e,t)&&(r.leading=r.leadingNonAscii),r.trailingAscii&&A("right",e,t)&&(r.trailing=r.trailingNonAscii),{leading:r.leading,trailing:r.trailing}}(e,t),e}function A(e,t,n){var r,o,i;return"left"===e?(r=t.previousSibling,o=/ $/):(r=t.nextSibling,o=/^ /),r&&(3===r.nodeType?i=o.test(r.nodeValue):n.preformattedCode&&"CODE"===r.nodeName?i=!1:1!==r.nodeType||u(r)||(i=o.test(r.textContent))),i}var T=Array.prototype.reduce,M=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function F(e){if(!(this instanceof F))return new F(e);var t={rules:d,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new m(this.options)}function O(e){var t=this;return T.call(e.childNodes,(function(e,n){var r="";return 3===(n=new S(n,t.options)).nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=P.call(t,n)),R(e,r)}),"")}function _(e){var t=this;return this.rules.forEach((function(n){"function"==typeof n.append&&(e=R(e,n.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function P(e){var t=this.rules.forNode(e),n=O.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function R(e,t){var n=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),r=t.replace(/^\n*/,""),o=Math.max(e.length-n.length,t.length-r.length);return n+"\n\n".substring(0,o)+r}F.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=O.call(this,new w(e,this.options));return _.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return M.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};const I=F;console.log("[LLM Utils] Loaded");var D=null;function B(e){return"string"!=typeof e?(console.warn("[LLM Utils] cleanUnprintableChars received non-string input:",e),""):e.replace(/[\u200B-\u200D\uFEFF]/g,"")}console.log("[LLM Highlighter] Script Loaded (v3.0.3)");var z="llm-highlight-preview",N="llm-highlight",H=!1,j=null,U=null,q=null,$=null,G=!1;function V(e){if("Alt"===e.key&&!H){var t=document.activeElement;if(t&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable))return void(G&&console.log("[LLM Highlighter] Ignoring Alt down in input/editable element."));H=!0,G&&console.log("[LLM Highlighter] Alt key down.")}}function Y(e){"Alt"===e.key&&(G&&console.log("[LLM Highlighter] Alt key up."),U||Z())}function K(e){if(H){var t=document.elementFromPoint(e.clientX,e.clientY);if(!t||t.closest(".summarizer-popup")||t.closest(".llm-floating-icon"))X();else{if((t===document.body||t===document.documentElement)&&document.elementsFromPoint(e.clientX,e.clientY).length>1){var n=document.elementsFromPoint(e.clientX,e.clientY)[1];if(!n||n.closest(".summarizer-popup")||n.closest(".llm-floating-icon"))return void X();t=n}t!==U?j!==t&&(X(),(j=t)&&j.classList.add(z)):X()}}else X()}function W(e){!e.relatedTarget&&j&&(G&&console.log("[LLM Highlighter] Mouse left window."),X())}function Q(e){if(e.target.closest(".llm-floating-icon")||e.target.closest(".summarizer-popup"))G&&console.log("[LLM Highlighter] Mousedown ignored on icon or popup.");else{if(e.altKey&&0===e.button){e.preventDefault(),e.stopPropagation();var t=e.target;return X(),void(U===t?(G&&console.log("[LLM Highlighter] Deselecting element."),J(),Z(),$&&$()):t?(G&&console.log("[LLM Highlighter] Selecting element:",t),J(),(U=t).classList.add(N),Z(),q&&q(U,e.pageX,e.pageY)):(G&&console.warn("[LLM Highlighter] Alt+Click target invalid."),J(),Z()))}e.altKey||0!==e.button||U&&!U.contains(e.target)&&(G&&console.log("[LLM Highlighter] Click outside detected. Deselecting."),J(),Z(),$&&$())}}function X(){j&&(document.body.contains(j)&&j.classList.remove(z),j=null)}function Z(){G&&console.log("[LLM Highlighter] Resetting highlight state."),H=!1,X()}function J(){U&&(document.body.contains(U)&&U.classList.remove(N),G&&console.log("[LLM Highlighter] Selection highlight removed."),U=null)}function ee(){return U}function te(e){e&&"function"==typeof e.onElementSelected&&"function"==typeof e.onElementDeselected?(q=e.onElementSelected,$=e.onElementDeselected,G=!!e.initialDebugState,window.addEventListener("keydown",V,!0),window.addEventListener("keyup",Y,!0),window.addEventListener("blur",Z),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&Z()})),document.addEventListener("mousemove",K,!0),window.addEventListener("mouseout",W),document.addEventListener("mousedown",Q,!0),G&&console.log("[LLM Highlighter] Initialized.")):console.error("[LLM Highlighter] Initialization failed: Required callbacks missing.")}console.log("[LLM FloatingIcon] Script Loaded (v2.40.10)");var ne="llm-floating-icon",re="llm-fallback-icon",oe=null,ie=null,ae=null,ue=!1;function ce(e){e.stopPropagation(),e.preventDefault(),ue&&console.log("[LLM FloatingIcon] Icon clicked."),ie&&ie()}function se(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),ue&&console.log("[LLM FloatingIcon] Icon activated via keyboard."),ie&&ie()),"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),ue&&console.log("[LLM FloatingIcon] Icon dismissed via Escape."),fe(),ae&&ae())}function le(e,t,n,r){if(fe(),"function"==typeof n&&"function"==typeof r){ie=n,ae=r,(oe=document.createElement("div")).className=ne,oe.setAttribute("aria-label","Summarize this element"),oe.setAttribute("role","button"),oe.setAttribute("tabindex","0"),oe.title="Summarize this element (Click or press Enter)";var o="";try{if("undefined"==typeof chrome||!chrome.runtime||"function"!=typeof chrome.runtime.getURL)throw new Error("chrome.runtime API not available");o=chrome.runtime.getURL("icons/icon32.png")}catch(e){console.warn("[LLM FloatingIcon] Could not get icon URL",e),o=""}var i=document.createElement("img");i.src=o,i.alt="Summarize",i.style.pointerEvents="none",i.onerror=function(){if(i.style.display="none",oe&&!oe.querySelector(".".concat(re))){var e=document.createElement("span");e.className=re,e.textContent="💡",e.style.pointerEvents="none",oe.appendChild(e),ue&&console.warn("[LLM FloatingIcon] Failed to load icon image, using fallback.")}},o||i.onerror(),oe.appendChild(i);var a=e-16,u=t-16;a=Math.max(window.scrollX+5,Math.min(a,window.scrollX+window.innerWidth-32-5)),u=Math.max(window.scrollY+5,Math.min(u,window.scrollY+window.innerHeight-32-5)),oe.style.left="".concat(a,"px"),oe.style.top="".concat(u,"px"),oe.style.pointerEvents="auto",oe.addEventListener("click",ce),oe.addEventListener("keydown",se),document.body.appendChild(oe),ue&&console.log("[LLM FloatingIcon] Icon created at",a,u),oe.focus()}else console.error("[LLM FloatingIcon] createFloatingIcon failed: Required callbacks missing.")}function fe(){oe&&oe.parentNode&&(oe.removeEventListener("click",ce),oe.removeEventListener("keydown",se),oe.parentNode.removeChild(oe),ue&&console.log("[LLM FloatingIcon] Icon removed.")),oe=null,ie=null,ae=null}function pe(e){(ue=!(null==e||!e.initialDebugState))&&console.log("[LLM FloatingIcon] Initialized.")}var de=n(8199),he=n.n(de);console.log("[LLM Popup] Script Loaded (v3.0.17)");var me="summarizer-body",ge="summarizer-btn",ve="copy-btn",xe="slack-btn",ye="chat-btn",ke="close-btn",be='\n<div class="'.concat("summarizer-popup",'" style="display: none;">\n    <div class="').concat("summarizer-header-container",'">\n        <div class="').concat("summarizer-header",'">Summary</div>\n    </div>\n    <div class="').concat(me,'"></div>\n    <div class="').concat("summarizer-actions",'">\n        <button class="').concat(ge," ").concat(ve,'">Copy</button>\n        <button class="').concat(ge," ").concat(xe,'">2Slack</button>\n        \x3c!-- Single Chat Button --\x3e\n        <button class="').concat(ge," ").concat(ye,'">Chat</button>\n        \x3c!-- End Single Chat Button --\x3e\n        <button class="').concat(ge," ").concat(ke,'">Close</button>\n    </div>\n</div>\n'),Ee=null,Ce="",we={onCopy:null,onChat:null,onClose:null,onOptions:null},Le=null,Se=!1,Ae=null,Te=null,Me=!1;function Fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(i){if(Oe(),!t||"function"!=typeof t.onCopy||"function"!=typeof t.onChat||"function"!=typeof t.onClose||"function"!=typeof t.onOptions)return console.error("[LLM Popup] showPopup failed: Required callbacks missing."),void i();we=t,Ce=e,Ae=n,Te=r,Me=o;try{var a=document.createElement("template");a.innerHTML=be.trim(),Ee=a.content.firstChild.cloneNode(!0)}catch(e){return console.error("[LLM Popup] Error parsing or cloning popup template:",e),Ee=null,void i()}var u=Ee.querySelector(".".concat(me)),c=Ee.querySelector(".".concat(ve)),s=Ee.querySelector(".".concat(xe)),l=Ee.querySelector(".".concat(ye)),f=Ee.querySelector(".".concat(ke));u?"string"==typeof e?e.startsWith("<ul>")?u.innerHTML=e:u.textContent=e:(u.textContent="Error: Invalid content type.",console.error("[LLM Popup] Invalid content type passed to showPopup:",e)):console.error("[LLM Popup] Cannot set initial content: Popup body div not found."),c?c.onclick=function(){return function(e,t){if(t){Le&&clearTimeout(Le);var n="";if(Ae&&Ae.length>0&&Te){var r="";Ae.forEach((function(e){r+="* ".concat(e,"\n")})),n=r+="\n\n".concat(Te),Se&&console.log("[LLM Popup] Copying constructed Markdown:",n)}else if(Se&&console.log("[LLM Popup] Fallback: Copying visible plain text from popup."),e){var o=e.querySelectorAll("li");n=o.length>0?Array.from(o).map((function(e){var t=document.createElement("div");return t.innerHTML=e.innerHTML,t.textContent.replace(/\u00A0/g," ").trim()})).filter((function(e){return""!==e})).map((function(e,t){return"".concat(t+1,". ").concat(e)})).join("\n"):e.textContent.replace(/\u00A0/g," ").trim()||""}else"string"!=typeof Ce||Ce.startsWith("<")||(n=Ce.trim());n?navigator.clipboard.writeText(n).then((function(){t.textContent="Copied!",Le=setTimeout((function(){t.textContent="Copy",Le=null}),1500)})).catch((function(e){console.error("[LLM Popup] Failed to copy text: ",e),t.textContent="Error",Le=setTimeout((function(){t.textContent="Copy",Le=null}),1500)})):(Se&&console.warn("[LLM Popup] Nothing to copy."),t.textContent="Empty",Le=setTimeout((function(){t.textContent="Copy",Le=null}),1500))}}(u,c)}:console.error("[LLM Popup] Could not attach copy listener: Button missing."),s?s.onclick=function(){return function(e,t){if(t){Le&&clearTimeout(Le);var n="";if(Ae&&Ae.length>0&&Te){var r=Ae.join("\n"),o=he()(r);o=B(o),n=o+="\n\nSource: ".concat(Te),Se&&console.log("[LLM Popup] Converting and copying Slack Markdown (cleaned):",n)}else if(Se&&console.log("[LLM Popup] Fallback: Converting visible content to Slack Markdown."),e){var i,a=e.querySelectorAll("li");i=a.length>0?Array.from(a).map((function(e){var t=document.createElement("div");return t.innerHTML=e.innerHTML,"* ".concat(t.textContent.replace(/\u00A0/g," ").trim())})).filter((function(e){return""!==e})).join("\n"):e.textContent.replace(/\u00A0/g," ").trim()||"",n=B(n=he()(i))}else"string"!=typeof Ce||Ce.startsWith("<")||(n=B(n=he()(Ce.trim())));n?navigator.clipboard.writeText(n).then((function(){t.textContent="Copied!",Le=setTimeout((function(){t.textContent="2Slack",Le=null}),1500)})).catch((function(e){console.error("[LLM Popup] Failed to copy Slack text: ",e),t.textContent="Error",Le=setTimeout((function(){t.textContent="2Slack",Le=null}),1500)})):(Se&&console.warn("[LLM Popup] Nothing to convert to Slack format."),t.textContent="Empty",Le=setTimeout((function(){t.textContent="2Slack",Le=null}),1500))}}(u,s)}:console.error("[LLM Popup] Could not attach Slack listener: Button missing."),l?Me?(l.textContent="Options",l.title="Open options to adjust settings",l.onclick=function(){return we.onOptions()},l.disabled=!1,Se&&console.log("[LLM Popup] Button set to 'Options' due to error state.")):(l.textContent="Chat",l.title="Open chat with summary context",l.onclick=function(){return we.onChat(null)},l.disabled=!0,Se&&console.log("[LLM Popup] Button set to 'Chat' for normal state.")):console.error("[LLM Popup] Could not attach chat/options listener: Button missing."),f?f.onclick=function(){return we.onClose()}:console.error("[LLM Popup] Could not attach close listener: Button missing."),document.body.appendChild(Ee),Se&&console.log("[LLM Popup] Popup added to page from template."),Ee.style.display="flex",requestAnimationFrame((function(){Ee?(Ee.classList.add("visible"),Se&&console.log("[LLM Popup] Popup visibility transition started."),i()):i()}))}))}function Oe(){if(Ee){var e=Ee;Ee=null,we={onCopy:null,onChat:null,onClose:null},Ce="",Ae=null,Te=null,Le&&clearTimeout(Le),Le=null,e.classList.remove("visible");var t=window.getComputedStyle(e),n=1e3*parseFloat(t.transitionDuration);setTimeout((function(){null!=e&&e.parentNode&&(e.parentNode.removeChild(e),Se&&console.log("[LLM Popup] Popup hidden and removed."))}),n>0?n+50:10)}}function _e(e){if(Ee){Ce=e,Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Me=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var t=Ee.querySelector(".".concat(me)),n=Ee.querySelector(".".concat(ye));t?"string"==typeof e?(e.startsWith("<ul>")?t.innerHTML=e:t.textContent=e,Se&&console.log("[LLM Popup] Popup content updated.")):(t.textContent="Error: Invalid content type.",console.error("[LLM Popup] Invalid content type passed to updatePopupContent:",e)):console.error("[LLM Popup] Cannot update content: Popup body div not found."),n&&(Me?(n.textContent="Options",n.title="Open options to adjust settings",n.onclick=function(){return we.onOptions()},n.disabled=!1,Se&&console.log("[LLM Popup] Button updated to 'Options' due to error state in updatePopupContent.")):(n.textContent="Chat",n.title="Open chat with summary context",n.onclick=function(){return we.onChat(null)},n.disabled=!0,Se&&console.log("[LLM Popup] Button updated to 'Chat' for normal state in updatePopupContent.")))}else Se&&console.warn("[LLM Popup] updatePopupContent called but popup doesn't exist.")}function Pe(e){if(Ee){var t=Ee.querySelector(".".concat(ye));t&&(t.disabled=!e),Se&&console.log("[LLM Popup] Chat button ".concat(e?"enabled":"disabled","."))}}function Re(e){(Se=!(null==e||!e.initialDebugState))&&console.log("[LLM Popup] Initialized.")}console.log("[LLM Constants] Loaded");var Ie="apiKey",De="models",Be="summaryModelId",ze="chatModelId",Ne="debug",He="bulletCount",je="language_info",Ue="summaryHistory",qe="maxRequestPrice",$e="knownModelsAndPrices",Ge="prompt_custom_format_instructions",Ve="prompt_preamble_template",Ye="prompt_postamble_text",Ke="prompt_default_format_instructions",We="\nTreat input as Markdown text.\nFirst, determine the language the input is written in.\nSecond, prepare a summary of input containing no more than ${bulletWord} points\nin the language you determined.\nThird, use a JSON array of strings to return the summary.\nEach JSON array element, which is a string, should represent a single bullet point.\n ",Qe="Each bullet point should be a concise markdown string,\nstarting with a bold tag-like marker and a colon,\nand followed by description.\n\nAfter providing bullet points for article summary,\nadd a bonus bullet point - your insights, assessment and comments,\nand what should a mindful reader notice about this.\nCall it **Summarizer Insight:**\n",Xe='\nEnsure the response is ONLY the JSON array.\nDo not include any other text or formatting outside the JSON array.\nYou may use ONLY markdown for emphasis.\nFor example: "**Some bold text:** The market showed **significant** growth in Q3."\n',Ze="\nBe concise and factual. We no longer need bullet points.\nFormat responses using Markdown where appropriate. Do not use any HTML.\nDo NOT include any text, comments, or other content before or after your message. Do not output your deliberations.\nIMPORTANT CONTEXT HANDLING:\nYour first message in this chat contains an AI-generated summary of the provided Markdown snippet.\nThis summary is a derivative interpretation and should *not* be considered the primary source of truth for answering questions *about the original article content*.\nWhen the user asks about the article, base your answers primarily on the provided 'Context - Original HTML Snippet'.\nOnly refer to or discuss the initial summary if the user explicitly asks about the summary itself,\nits specific points, or any insights it might contain that are not directly present in the original snippet (e.g., summarizer insights).\nDo not repeat or update the initial summary unless specifically requested by the user.\nFocus on answering the user's current question based on the provided article context.\nWhen the user provides text preceded by \"Translate the following text:\", focus on translating *only* that provided text to the target language specified in the same message.\n",Je="Context - Original HTML Snippet:\n```html\n${domSnippet}\n```\n\nInitial Summary:\n${summary}",et="Translate the following text to ${targetLanguage} and let's continue our conversation in that language: \n\n${textToTranslate}",tt=[{id:"google/gemini-2.0-flash-lite-001"},{id:"anthropic/claude-3.7-sonnet"},{id:"deepseek/deepseek-r1"},{id:"openai/gpt-4.1-nano"},{id:"x-ai/grok-3-mini-beta"},{id:"google/gemini-2.5-flash-preview"}],nt=["English","Spanish","Hebrew","French"],rt="country-flags/languages.json",ot="country-flags/svg/",it="country-flags/svg/un.svg",at=tt.length>0?tt[0].id:"",ut=tt.length>0?tt[0].id:"",ct=5,st=!1,lt=20,ft=.001,pt=7,dt="https://openrouter.ai/api/v1/chat/completions",ht=300,mt=2,gt=1e3,vt=45e3,xt="API key is missing. Please set it in the extension options.",yt="No model selected or specified. Please check extension options.",kt="Network error. Please check your connection and OpenRouter status.",bt="Request timed out. The model might be taking too long.",Et="Rate limit exceeded. Please try again later or check your OpenRouter plan.",Ct="Invalid API key. Please verify your OpenRouter key in the options.",wt="An unknown error occurred.",Lt="Content filtered by API provider.",St="Bad request. Check model ID and parameters.",At="OpenRouter server error. Please try again later.",Tt=50,Mt=227.56/1024;function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function Ot(){Ot=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(t,n,r,o){var i=n&&n.prototype instanceof p?n:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,n,r){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=b(u,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var s=l(t,n,r);if("normal"===s.type){if(o=r.done?4:2,s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=4,r.method="throw",r.arg=s.arg)}}}(t,r,new w(o||[])),!0),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f={};function p(){}function d(){}function h(){}var m={};c(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(L([])));v&&v!==n&&r.call(v,i)&&(m=v);var x=h.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=l(e[o],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Ft(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function b(t,n){var r=n.method,o=t.i[r];if(o===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,b(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=l(o,t.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[t.r]=a.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function E(e){this.tryEntries.push(e)}function C(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function w(e){this.tryEntries=[[-1]],e.forEach(E,this),this.reset(!0)}function L(t){if(null!=t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Ft(t)+" is not iterable")}return d.prototype=h,c(x,"constructor",h),c(h,"constructor",d),d.displayName=c(h,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},y(k.prototype),c(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(x),c(x,u,"Generator"),c(x,i,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=L,w.prototype={constructor:w,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){a.type="throw",a.arg=t,n.next=e}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return r("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=e,r(c),!0;if(u<s)return r(s),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===e||"continue"===e)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:L(t),r:n,n:r},"next"===this.method&&(this.arg=e),f}},t}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ft(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function It(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rt(i,r,o,a,u,"next",e)}function u(e){Rt(i,r,o,a,u,"throw",e)}a(void 0)}))}}console.log("[LLM Content] Script Start (v3.0.22)");var Dt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=document.getElementById("errorDisplay");if(!r){(r=document.createElement("div")).id="errorDisplay",r.style.display="none";var o=document.querySelector(".chat-container");o?o.insertBefore(r,o.firstChild):document.body.insertBefore(r,document.body.firstChild)}if(D&&(clearTimeout(D),D=null),r.textContent=e,r.style.cssText="display: block; color: red; background-color: #ffebee; padding: 10px; border: 1px solid red; border-radius: 4px; margin: 10px auto; width: 80vw; max-width: 800px;",t){var i=document.getElementById("chatInput"),a=document.querySelector('#chatForm button[type="submit"]');i&&(i.disabled=!0),a&&(a.disabled=!0)}D=n>0?setTimeout((function(){r.style.display="none",r.textContent="",D=null}),n):null},Bt=function(e){if("string"!=typeof e||!e.trim())return"";if("undefined"==typeof marked)return e.replace(/\n/g,"<br>");try{return marked.parse(e,{sanitize:!0})}catch(t){return console.error("[LLM Utils] Marked parse error:",t),e.replace(/\n/g,"<br>")}},zt=!1,Nt="",Ht="",jt=null,Ut=null,qt=[],$t=!1;function Gt(){if(!(e&&ee&&r&&Fe&&Dt&&I)){var t="Error: Core components (static imports) not properly loaded for processing.";return console.error("[LLM Content]",t,{Highlighter:e,SummaryPopup:r,showError:Dt,TurndownService:I}),void(Dt||console.error)(t)}var n=ee();if(!n)return zt&&console.warn("[LLM Content] processSelectedElement called but no element is selected."),void Dt("Error: No element selected to process.");jt=n.outerHTML,zt&&console.log("[LLM Content] Stored selected element snippet for chat context:",jt.substring(0,200)+(jt.length>200?"...":"")),J();var o,i=n.outerHTML;if(!i||""===i.trim())return zt&&console.warn("[LLM Content] Selected element has no HTML content to summarize."),void Dt("Error: Selected element has no content.");try{var a=new I({headingStyle:"atx",codeBlockStyle:"fenced",bulletListMarker:"-"});a.remove(["script","style","nav"]),o=a.turndown(i),zt&&console.log("[LLM Content] Successfully converted HTML to Markdown:",o.substring(0,200)+(o.length>200?"...":"")),zt&&console.log("[LLM Content] Conversion Details - HTML Length: "+i.length+", Markdown Length: "+o.length)}catch(e){return console.error("[LLM Content] Error converting HTML to Markdown:",e),void Dt("Error processing content for summarization.")}Ut=o;var u,c=Tt||50;!o||o.length<c?(zt&&console.warn("[LLM Content] Markdown output is empty or too short, falling back to raw HTML.","Markdown length: ".concat((null===(u=o)||void 0===u?void 0:u.length)||0)),Dt("Warning: Content processing incomplete, using raw data.",!1,3e3),Kt(i)):Kt(o)}function Vt(){return(Vt=It(Ot().mark((function n(o){var i;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&t&&e&&Dt){n.next=3;break}return console.error("[LLM Content] validateAndSendToLLM called before essential modules loaded!"),n.abrupt("return");case 3:return zt&&console.log("[LLM Request] Validating cost before sending summarization request."),i="".concat(Date.now(),"-").concat(Math.floor(1e3*Math.random())),Nt="Thinking...",n.prev=6,n.next=9,Fe("Thinking...",{onCopy:function(){},onChat:Jt,onClose:en,onOptions:tn},null,null,!1);case 9:zt&&console.log("[LLM Content] Summary popup is now ready."),n.next=21;break;case 12:return n.prev=12,n.t0=n.catch(6),console.error("[LLM Content] Error showing summary popup:",n.t0),Dt("Error displaying summary popup."),fe(),J(),Nt="",jt=null,n.abrupt("return");case 21:Pe(!1),chrome.runtime.sendMessage({action:"getSettings"},(function(e){if(chrome.runtime.lastError||!e){var t,n="Error getting settings: ".concat((null===(t=chrome.runtime.lastError)||void 0===t?void 0:t.message)||"No response");return Dt(n),_e(n,null,null,!0),fe(),J(),Nt="",void(jt=null)}var r=e.maxRequestPrice||ft||.01,a=e.summaryModelId||"";if(!a){var u="Error: No summary model selected.";return Dt(u),_e(u,null,null,!0),fe(),J(),Nt="",void(jt=null)}var c=o.length,s=Mt||227.56/1024,l=Math.ceil(c*s);zt&&console.log("[LLM Content] Estimated tokens for content: ".concat(l)),chrome.runtime.sendMessage({action:"getModelPricing",modelId:a},(function(e){if(chrome.runtime.lastError||!e||"success"!==e.status){var t,n="Error fetching pricing data: ".concat((null===(t=chrome.runtime.lastError)||void 0===t?void 0:t.message)||(null==e?void 0:e.message)||"Unknown error");return Dt(n),_e(n,null,null,!0),fe(),J(),Nt="",void(jt=null)}var u=e.pricePerToken||0;if(0===u)return zt&&console.log("[LLM Content] Free model detected (".concat(a,"), skipping cost validation.")),void Yt(o,i);var c=l*u;if(zt&&console.log("[LLM Content] Estimated cost: $".concat(c.toFixed(6)," (max allowed: $").concat(r.toFixed(3),")")),c>r){var s="Error: Request exceeds max price of $".concat(r.toFixed(3),". Estimated cost: $").concat(c.toFixed(6),".");return Dt(s),_e(s,null,null,!0),fe(),J(),Nt="",void(jt=null)}Yt(o,i)}))}));case 23:case"end":return n.stop()}}),n,null,[[6,12]])})))).apply(this,arguments)}function Yt(n,o){zt&&console.log("[LLM Request] Sending summarization request to background."),chrome.runtime.sendMessage({action:"requestSummary",requestId:o,selectedHtml:n},(function(n){if(chrome.runtime.lastError){var o="Error sending request: ".concat(chrome.runtime.lastError.message);return Dt(o),r&&_e(o,null,null,!0),t&&fe(),e&&J(),Nt="",void(jt=null)}if(n&&"error"===n.status){var i="Error: ".concat(n.message||"Background validation failed.");Dt(i),r&&_e(i,null,null,!0),t&&fe(),e&&J(),Nt="",jt=null}else if(n&&"processing"===n.status)zt&&console.log("[LLM Content] Background acknowledged summary request processing.");else{var a="Error: Unexpected response from background.";Dt(a),r&&_e(a,null,null,!0),t&&fe(),e&&J(),Nt="",jt=null}}))}function Kt(e){!function(e){Vt.apply(this,arguments)}(e)}function Wt(e,n,r){t&&le&&(zt&&console.log("[LLM Content] handleElementSelected called for:",e),le(n,r,Xt,Zt))}function Qt(){r&&Oe&&(zt&&console.log("[LLM Content] handleElementDeselected called."),Oe(),Nt="",Ht="",jt=null,Ut=null)}function Xt(){e&&t&&r&&o&&(zt&&console.log("[LLM Content] handleIconClick called."),fe(),Z(),Gt())}function Zt(){e&&t&&r&&(zt&&console.log("[LLM Content] handleIconDismiss called."),Z(),J(),Nt="",Ht="",jt=null,Ut=null)}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;zt&&console.log("[LLM Content] handlePopupChat called. Target Language: ".concat(e)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=jt,n=Ut;if(!t||""===t.trim())return Dt("Cannot open chat: No element content available."),void(zt&&console.warn("[LLM Chat Context] Chat attempt failed: lastSelectedDomSnippet is null or empty."));if(!Nt||"Thinking..."===Nt||Nt.startsWith("Error:")||"Error: Could not parse summary response."===Nt)return Dt("Cannot open chat: No valid summary available."),void(zt&&console.warn("[LLM Chat Context] Chat attempt failed: No valid summary found in lastSummary."));var o={domSnippet:t,summary:Nt,chatTargetLanguage:e,modelUsedForSummary:Ht,processedMarkdown:n||""};zt&&console.log("[LLM Chat Context] Preparing context payload for background:",o),chrome.runtime.sendMessage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({action:"setChatContext"},o),(function(e){if(chrome.runtime.lastError)return console.error("[LLM Chat Context] Error sending context:",chrome.runtime.lastError),void Dt("Error preparing chat: ".concat(chrome.runtime.lastError.message));e&&"ok"===e.status?(zt&&console.log("[LLM Chat Context] Background confirmed context storage. Requesting tab open."),chrome.runtime.sendMessage({action:"openChatTab"},(function(e){chrome.runtime.lastError?console.error("[LLM Chat Context] Error requesting tab open:",chrome.runtime.lastError):(zt&&console.log("[LLM Chat Context] Background ack openChatTab:",e),r&&Oe(),Nt="",Ht="",jt=null,Ut=null)}))):(console.error("[LLM Chat Context] Background did not confirm context storage:",e),Dt("Failed to prepare chat context."))}))}(e)}function en(){r&&e&&t&&(zt&&console.log("[LLM Content] handlePopupClose called."),Oe(),J(),fe(),Nt="",Ht="",jt=null,Ut=null)}function tn(){zt&&console.log("[LLM Content] handlePopupOptions called."),chrome.runtime.sendMessage({action:"openOptionsPage"},(function(e){chrome.runtime.lastError&&(console.error("[LLM Content] Error opening options page:",chrome.runtime.lastError),Dt("Error opening options page."))})),r&&Oe(),e&&J(),t&&fe(),Nt="",jt=null}function nn(t,n,o){if(zt&&console.log("[LLM Content] Handling message:",t.action),"processSelection"===t.action)return zt&&console.log("[LLM Content] Received processSelection command."),e&&ee()?(Gt(),o({status:"processing started"}),!0):(console.warn("[LLM Content] Received processSelection but no element is selected."),Dt("Error: No element selected. Use Alt+Click first."),r&&(Fe("Error: No element selected. Use Alt+Click first.",{onCopy:function(){},onChat:function(){},onClose:Oe},null,null),Pe(!1),setTimeout(Oe,3e3)),o({status:"no element selected"}),!1);if("summaryResult"===t.action){zt&&console.log("[LLM Content] Received summary result from background:",t.requestId,"Raw Summary:",t.summary),Ht=t.model||"Unknown";var i=window.location.href;if(!r||!Bt)return console.error("[LLM Content] SummaryPopup or renderTextAsHtml not available for summaryResult"),Nt="Error: UI components not ready.",!0;if(t.error)Nt="Error: ".concat(t.error),Dt("Error: ".concat(t.error)),_e("Error: ".concat(t.error),null,i,!0),Pe(!1);else if(t.summary&&"string"==typeof t.summary){var a=t.summary,u=[],c="";try{var s=JSON.parse(a);if(!Array.isArray(s))throw new Error("Parsed summary is not an array.");if(!((u=s.map(String)).length>0))throw new Error("No valid JSON arrays found or parsed from summary string.");c="<ul>"+u.map((function(e){return"<li>".concat(Bt(e),"</li>")})).join("")+"</ul>",Nt=JSON.stringify(u),_e(c,u,i),Pe(!0),zt&&console.log("[LLM Content] Successfully processed summary. Stored valid JSON string for chat context:",Nt)}catch(e){console.error("[LLM Content] Error processing summary string: ".concat(e.message,". Raw: ").concat(a.substring(0,100))),Dt("Error processing summary: ".concat(e.message)),_e((c=Bt(a))+"<br><small>(Raw response shown due to parsing error)</small>",null,i,!0),Nt="Error: Could not parse summary response.",Pe(!1)}}else Nt="Error: No summary data received or invalid format.",Dt("Error: No summary data received or invalid format."),_e("Error: No summary data received or invalid format.",null,i,!0),Pe(!1);return!0}return!1}function rn(){return(rn=It(Ot().mark((function n(){var i,a;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,chrome.storage.sync.get(["debug"]);case 3:i=n.sent,(zt=!!i.debug)&&console.log("[LLM Content] Initial Debug mode:",zt);try{zt&&console.log("[LLM Content] Checking for global 'marked' (should be pre-loaded via manifest)."),"undefined"==typeof marked?(console.warn("[LLM Content] Global 'marked' is not defined. Markdown rendering might be affected if utils.js relies on it solely."),Dt&&Bt.toString().includes('typeof marked !== "undefined"')&&Dt("Warning: Markdown library (marked.js) not fully loaded. Some formatting may be basic.",!1,7e3)):zt&&console.log("[LLM Content] Global 'marked' is available.")}catch(e){console.error("[LLM Content] Error during marked.min.js check:",e),Dt&&Dt("Error with Markdown library. Formatting may not work.",!1,7e3)}if(void 0!==I){n.next=9;break}throw new Error("TurndownService (static import) is undefined.");case 9:if(e){n.next=11;break}throw new Error("Highlighter module not correctly imported or initializeHighlighter is missing.");case 11:if(t){n.next=13;break}throw new Error("FloatingIcon module not correctly imported or initializeFloatingIcon is missing.");case 13:if(r){n.next=15;break}throw new Error("SummaryPopup module not correctly imported or initializePopupManager is missing.");case 15:if(o){n.next=17;break}throw new Error("constants module not correctly imported.");case 17:n.next=19;break;case 19:n.next=21;break;case 21:if(zt&&console.log("[LLM Content] Statically imported modules appear to be available."),te({onElementSelected:Wt,onElementDeselected:Qt,initialDebugState:zt}),pe({initialDebugState:zt}),Re({initialDebugState:zt}),$t=!0,zt&&console.log("[LLM Content] Modules initialized flag set to true."),qt.length>0){for(zt&&console.log("[LLM Content] Processing ".concat(qt.length," queued messages."));qt.length>0;)nn((a=qt.shift()).req,a.sender,a.sendResponse);zt&&console.log("[LLM Content] Finished processing queued messages.")}console.log("[LLM Content] Script Initialized. Modules ready."),n.next=37;break;case 31:n.prev=31,n.t0=n.catch(0),console.error("[LLM Content] CRITICAL: Failed to load/initialize components.",n.t0),(Dt||console.error)("Error: OpenRouter Summarizer failed to load components (".concat(n.t0.message,"). Please try reloading the page or reinstalling the extension.")),$t=!1;case 37:case"end":return n.stop()}}),n,null,[[0,31]])})))).apply(this,arguments)}chrome.runtime.onMessage.addListener((function(e,t,n){return $t?nn(e,0,n):(zt&&console.warn("[LLM Content] Message received before modules initialized, queuing:",e.action,"Queue size:",qt.length+1),qt.push({req:e,sender:t,sendResponse:n}),!0)})),function(){rn.apply(this,arguments)}()})()})();